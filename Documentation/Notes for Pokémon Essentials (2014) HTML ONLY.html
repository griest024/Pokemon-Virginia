<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html dir='ltr' lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'><head>


<script type="text/javascript" src="/static/js/analytics.js"></script>
<script type="text/javascript">archive_analytics.values.server_name="wwwb-app0.us.archive.org";archive_analytics.values.server_ms=152;</script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>


		<title>Notes for Pok&eacute;mon Essentials</title>
<script>//<![CDATA[
if(document.location.href.indexOf("MyDisk")!=-1){
window.onload=function(){
var blacklist=[
/\bunless\s+(and|or)\s+until\b/gi,
/\b(p)rior\b/gi,
/\b[\w&;\']+,?(\s+[\w&;\'\"\(\)\-\u00c0-\u00ff]+,?){20,}([\:\.\!\?])/g, //' 
/\b(usage|scenario|multitude)(s)\b/gi,
/\b(esthetic|advisor|sophisticated|whereas|customary|fundamental\w+)\b/gi,
/\b(strateg)(y|ies)\b/gi,
/\b(etc\.|e\.g\.|i\.e\.)\b/gi,
/\breason\s+why\b/gi,
/\bis\s+because\b/gi,
/\bfor\s+best\s+results\b/gi,
/\bexcept\s+when\b/gi,
/\buser(-|\s+)?friendly\b/gi,
/\buse(-|\s+)?up\b/gi,
/\b(utiliz|ceas|inquir|perceiv|replicat|initiat|terminat|procur)(e|es|ed|ing)\b/gi,
/\b(employ|retain|request|consult)(s|ed|ing)?\b/gi,
/\b((f)urnish)(es|ed|ing)?\b/gi,
/\b(remit)(s|ted|ting)?\b/gi,
///\b(is|are|was|were|be|being|been)\s+used\b/g
]
x=document.body.innerHTML
for(var i=0;i<blacklist.length;i++){
 x=x.replace(blacklist[i],function(y,z){return "<span style='background-color:red'>ERROR:"+y+"</span>"})
}
document.body.innerHTML=x
}
}
//]]>
</script>
	</head>
	<body>		<h1 id='notesforpokemonessentials'>Notes for Pok&eacute;mon Essentials</h1>
		<p>Peter O. (http://upokecenter.com/projects/pokestarter/)</p>
		<p>For the latest version of this document, see: <a href='/web/20120302172735/http://upokecenter.com/projects/pokestarter/notes.html'>http://upokecenter.com/projects/pokestarter/notes.html</a></p>

		<p>For advanced topics, see the <a href='advanced.html'>Advanced Topics</a> page.</p>
		<p>For reference material on the scripts, see the 
<a href='/web/20120302172735/http://www.upokecenter.com/projects/pokestarter/doc/'>script documentation</a> page.</p>
		<h2 id='contents'>Contents</h2>
		<ul id='toc'><li><a href='#notesforpokemonessentials'>Notes for Pokémon Essentials</a><ul><li><a href='#contents'>Contents</a></li><li><a href='#controls'>Controls</a></li><li><a href='#upgradingfrompreviousversions'>Upgrading from previous versions</a></li><li><a href='#problemwhenopeningproject'>Problem when opening project</a></li><li><a href='#commonquestions'>Common Questions</a><ul><li><a href='#howdoicreateapokemonmart'>How do I create a Pokémon Mart?</a></li><li><a href='#howcanicreatearivalandgivethatrivalaname'>How can I create a rival and give that rival a name?</a></li><li><a href='#howcanihealthepartywithoutapokemoncenter'>How can I heal the party without a Pokémon Center?</a></li><li><a href='#howcanisetwheretheplayergoesafterlosingabattle'>How can I set where the player goes after losing a battle?</a></li><li><a href='#howdoicreateananimatedtitlescreen'>How do I create an animated title screen?</a></li><li><a href='#icanuseahiddenmoveevenwithoutapokemonabletodoso'>I can use a hidden move even without a Pokemon able to do so!</a></li></ul></li><li><a href='#mapmaking'>Map Making</a><ul><li><a href='#anoteonscripting'>A Note on Scripting</a></li><li><a href='#findinginformationabouttilesandmaps'>Finding Information About Tiles and Maps</a></li><li><a href='#terraintags'>Terrain Tags</a></li><li><a href='#ledges'>Ledges</a></li><li><a href='#couches'>Couches</a></li><li><a href='#expandingthetextfields'>Expanding the Text Fields</a></li><li><a href='#considerations'>Considerations</a><ul><li><a href='#avoidingblackregionsnearmapedge'>Avoiding Black Regions Near Map Edge</a></li><li><a href='#canstillsurfonwaterevenwithabridgeoverit'>Can still surf on water even with a bridge over it</a></li><li><a href='#gamefreezesduringmovement'>Game freezes during movement</a></li><li><a href='#startingposition'>Starting Position</a></li></ul></li><li><a href='#dungeons'>Dungeons</a></li></ul></li><li><a href='#configurationfiles'>Configuration Files</a><ul><li><a href='#datacompilation'>Data Compilation</a></li><li><a href='#pbsconnectionstxt'>PBS/connections.txt</a></li><li><a href='#pbsencounterstxt'>PBS/encounters.txt</a></li><li><a href='#pbsmetadatatxt'>PBS/metadata.txt</a></li><li><a href='#pbstypestxt'>PBS/types.txt</a></li><li><a href='#pbspokemontxt'>PBS/pokemon.txt</a></li><li><a href='#pbsmovestxt'>PBS/moves.txt</a></li><li><a href='#pbsitemstxt'>PBS/items.txt</a><ul><li><a href='#implementingnewitems'>Implementing New Items</a></li></ul></li><li><a href='#pbstrainernamestxt'>PBS/trainernames.txt</a></li><li><a href='#pbstrainerstxt'>PBS/trainers.txt</a></li><li><a href='#pbstmtxt'>PBS/tm.txt</a></li></ul></li><li><a href='#townmapgeneratortownmapgenhtml'>Town Map Generator (townmapgen.html)</a><ul><li><a href='#pointsofinterest'>Points of Interest</a></li></ul></li><li><a href='#animations'>Animations</a><ul><li><a href='#animationeditor'>Animation Editor</a><ul><li><a href='#quickstart'>Quick Start</a></li><li><a href='#editorfeatures'>Editor Features</a></li></ul></li><li><a href='#battleanimations'>Battle Animations</a></li></ul></li><li><a href='#gamescreens'>Game Screens</a><ul><li><a href='#titlescreen'>Title Screen</a></li><li><a href='#introscreen'>Intro Screen</a></li></ul></li><li><a href='#resourcespecifications'>Resource Specifications</a><ul><li><a href='#pokemongraphicsandicons'>Pokémon Graphics and Icons</a><ul><li><a href='#placementofsprites'>Placement of Sprites</a></li><li><a href='#alternateforms'>Alternate Forms</a></li></ul></li><li><a href='#itemicons'>Item Icons</a></li><li><a href='#mailpreview'>Mail Preview</a></li><li><a href='#pokemoncries'>Pokémon Cries</a></li><li><a href='#battlebackgrounds'>Battle Backgrounds</a></li><li><a href='#trainergraphics'>Trainer Graphics</a></li><li><a href='#trainerback'>Trainer Back</a></li><li><a href='#fishinganimation'>Fishing Animation</a></li><li><a href='#badgeimage'>Badge Image</a></li><li><a href='#trainercard'>Trainer Card</a></li><li><a href='#border'>Border</a></li><li><a href='#backgrounds'>Backgrounds</a></li><li><a href='#pokemontypesimage'>Pokémon Types Image</a></li><li><a href='#titles'>Titles</a></li><li><a href='#windowskins'>Windowskins</a><ul><li><a href='#rgss2windowskinformat'>RGSS2 Windowskin Format</a></li></ul></li></ul></li><li><a href='#events'>Events</a><ul><li><a href='#predefinedevents'>Predefined Events</a><ul><li><a href='#trees'>Trees</a></li><li><a href='#boulders'>Boulders</a></li><li><a href='#headbutttrees'>Headbutt Trees</a></li><li><a href='#crackedrocks'>Cracked Rocks</a></li><li><a href='#doors'>Doors</a><ul><li><a href='#eventpage1'>Event Page 1</a></li><li><a href='#eventpage2'>Event Page 2</a></li></ul></li></ul></li><li><a href='#cutscenes'>Cut Scenes</a></li><li><a href='#triggers'>Triggers</a></li><li><a href='#switchesandvariables'>Switches and Variables</a><ul><li><a href='#debuggingswitchesandvariables'>Debugging Switches and Variables</a></li><li><a href='#scriptbasedswitches'>Script-Based Switches</a></li><li><a href='#temporaryselfswitches'>Temporary Self-Switches</a></li><li><a href='#reservedvariables'>Reserved Variables</a></li><li><a href='#eventspecificvariables'>Event-Specific Variables</a></li><li><a href='#timesensitivevariables'>Time-Sensitive Variables</a></li></ul></li><li><a href='#timesensitiveevents'>Time-Sensitive Events</a><ul><li><a href='#eventpage1_0'>Event Page 1</a></li><li><a href='#eventpage2_0'>Event Page 2</a></li><li><a href='#eventpage3'>Event Page 3</a></li></ul></li><li><a href='#counterevents'>Counter Events</a></li><li><a href='#sidestairs'>Side Stairs</a><ul><li><a href='#onetiledeepsidestairs'>One-Tile-Deep Side Stairs</a></li><li><a href='#sidestairsmorethantwotilesdeep'>Side Stairs More than Two Tiles Deep</a></li></ul></li><li><a href='#roadblocks'>Road Blocks</a><ul><li><a href='#eventpage1_1'>Event Page 1</a></li><li><a href='#eventpage2_1'>Event Page 2</a></li></ul></li><li><a href='#displays'>Displays</a></li><li><a href='#introductions'>Introductions</a></li><li><a href='#randomprocessing'>Random Processing</a></li><li><a href='#eventcommands'>Event Commands</a></li><li><a href='#savingthegame'>Saving the Game</a></li><li><a href='#pc'>PC</a></li></ul></li><li><a href='#items'>Items</a><ul><li><a href='#itemevents'>Item Events</a></li><li><a href='#itemmanagement'>Item Management</a><ul><li><a href='#checkingforitems'>Checking for Items</a></li><li><a href='#addingremovingitems'>Adding/Removing Items</a></li></ul></li><li><a href='#addingnewitems'>Adding New Items</a><ul><li><a href='#keyitems'>Key Items</a></li><li><a href='#technicalmachine'>Technical Machine</a></li><li><a href='#hiddenmachine'>Hidden Machine</a></li><li><a href='#regularitem'>Regular Item</a></li><li><a href='#evolutionstone'>Evolution Stone</a></li></ul></li><li><a href='#sellingitems'>Selling Items</a><ul><li><a href='#pokemonmart'>Pokémon Mart</a></li><li><a href='#sellitemcommand'>SellItem command</a></li></ul></li></ul></li><li><a href='#trainers'>Trainers</a><ul><li><a href='#behindthescenes'>Behind the Scenes</a></li><li><a href='#doubletrainerbattles'>Double Trainer Battles</a></li><li><a href='#nightlytrainers'>Nightly Trainers</a><ul><li><a href='#eventpage1_2'>Event Page 1</a></li><li><a href='#eventpage2_2'>Event Page 2</a></li></ul></li><li><a href='#partnertrainers'>Partner Trainers</a></li><li><a href='#editingtrainersandbattles'>Editing Trainers and Battles</a></li></ul></li><li><a href='#pokemonmanagement'>Pokémon Management</a><ul><li><a href='#addingapokemon'>Adding a Pokémon</a><ul><li><a href='#modifyingapokemonbeforeaddingit'>Modifying a Pokemon Before Adding It</a></li><li><a href='#addingapokemonownedbyanotherperson'>Adding a Pokémon Owned by Another Person</a></li><li><a href='#addinganegg'>Adding an Egg</a></li></ul></li><li><a href='#removingapokemon'>Removing a Pokémon</a></li><li><a href='#checkingforpokemon'>Checking for Pokémon</a></li><li><a href='#choosingapokemon'>Choosing a Pokemon</a></li><li><a href='#wildpokemonbattles'>Wild Pokémon Battles</a></li></ul></li><li><a href='#teachingmoves'>Teaching Moves</a><ul><li><a href='#movetutors'>Move Tutors</a></li><li><a href='#teachingmovesinscript'>Teaching Moves in Script</a></li></ul></li><li><a href='#graphicaleffects'>Graphical Effects</a><ul><li><a href='#waterreflection'>Water Reflection</a></li><li><a href='#lightsources'>Light Sources</a></li><li><a href='#shadows'>Shadows</a></li><li><a href='#particleengine'>Particle Engine</a></li><li><a href='#transitions'>Transitions</a></li><li><a href='#animatedimages'>Animated Images</a></li><li><a href='#gifsupportgifsprites'>GIF Support/GIF Sprites</a><ul><li><a href='#example'>Example</a></li></ul></li></ul></li><li><a href='#messagesystem'>Message System</a><ul><li><a href='#choicedisplayexamples'>Choice Display Examples</a></li><li><a href='#usingthemessagesysteminotherprojects'>Using the Message System in Other Projects</a></li></ul></li><li><a href='#backgroundmusic'>Background Music</a><ul><li><a href='#defaultbackgroundmusic'>Default Background Music</a></li><li><a href='#changingthebattlemusic'>Changing the Battle Music</a></li><li><a href='#nightlymusic'>Nightly Music</a></li></ul></li><li><a href='#localizationandtranslation'>Localization and Translation</a></li><li><a href='#debugging'>Debugging</a><ul><li><a href='#playtestingfunctions'>Playtesting Functions</a></li><li><a href='#debugmenu'>Debug Menu</a></li></ul></li><li><a href='#pokedex'>Pokedex</a></li><li><a href='#townmap'>Town Map</a></li><li><a href='#pokegear'>Pokegear</a></li><li><a href='#runningshoes'>Running Shoes</a></li><li><a href='#badges'>Badges</a></li><li><a href='#phone'>Phone</a></li><li><a href='#coincaseandgamecoins'>Coin Case and Game Coins</a></li><li><a href='#dependentevents'>Dependent Events</a></li><li><a href='#ingametrades'>In-Game Trades</a></li><li><a href='#bicycle'>Bicycle</a></li><li><a href='#multipleregions'>Multiple Regions</a></li><li><a href='#daynightsupport'>Day/Night support</a></li><li><a href='#suggestionsforcustomizingscripts'>Suggestions for Customizing Scripts</a><ul><li><a href='#settingavariablefromscript'>Setting a Variable from Script</a></li><li><a href='#displayingaplayersuppliednameforaperson'>Displaying a Player-Supplied Name for a Person</a></li><li><a href='#shinywildpokemon'>Shiny Wild Pokémon</a></li><li><a href='#allowingaplayertoloseatrainerbattle'>Allowing a Player to Lose a Trainer Battle</a></li><li><a href='#noshinypokemon'>No Shiny Pokémon</a></li><li><a href='#trainerobject'>Trainer Object</a></li><li><a href='#changingthemaximumpossiblelevel'>Changing the Maximum Possible Level</a></li><li><a href='#optionscreen'>Option Screen</a></li><li><a href='#screensize'>Screen Size</a></li><li><a href='#playingasoundwhensteppingontiles'>Playing a Sound When Stepping on Tiles</a></li></ul></li><li><a href='#controllingeventswithscripts'>Controlling Events with Scripts</a><ul><li><a href='#pbwaitx'>pbWait(x)</a></li><li><a href='#pbshakepowerspeedx'>pbShake(power,speed,x)</a></li><li><a href='#pbflashcolorx'>pbFlash(color,x)</a></li><li><a href='#pbtonechangealltoneduration'>pbToneChangeAll(tone,duration)</a></li><li><a href='#pbmoverouteeventcommands'>pbMoveRoute(event,commands)</a></li></ul></li><li><a href='#configuringtheserver'>Configuring the Server</a><ul><li><a href='#publishingtheserver'>Publishing the Server</a></li></ul></li><li><a href='#history'>History</a><ul><li><a href='#july212008'>July 21, 2008</a></li><li><a href='#february32008'>February 3, 2008</a></li><li><a href='#january92008'>January 9, 2008</a></li><li><a href='#december142008'>December 14, 2008</a></li><li><a href='#october42008'>October 4, 2008</a></li><li><a href='#september222008'>September 22, 2008</a></li><li><a href='#september142008'>September 14, 2008</a></li><li><a href='#september12008'>September 1, 2008</a></li><li><a href='#august82008'>August 8, 2008</a></li><li><a href='#july102008'>July 10, 2008</a></li><li><a href='#july12008'>July 1, 2008</a></li><li><a href='#june242008'>June 24, 2008</a></li><li><a href='#june12008'>June 1, 2008</a></li><li><a href='#may252008'>May 25, 2008</a></li><li><a href='#may212008'>May 21, 2008</a></li><li><a href='#may152008'>May 15, 2008</a></li><li><a href='#may22008'>May 2, 2008</a></li><li><a href='#april262008'>April 26, 2008</a></li><li><a href='#march12008'>March 1, 2008</a></li><li><a href='#february192008'>February 19, 2008</a></li><li><a href='#february112008'>February 11, 2008</a></li><li><a href='#february32008_0'>February 3, 2008</a></li><li><a href='#january242008'>January 24, 2008</a></li><li><a href='#january192008'>January 19, 2008</a></li><li><a href='#january142008'>January 14, 2008</a></li><li><a href='#january62008'>January 6, 2008</a></li><li><a href='#january12008'>January 1, 2008</a></li><li><a href='#december282007'>December 28, 2007</a></li><li><a href='#december242007'>December 24, 2007</a></li><li><a href='#december192007'>December 19, 2007</a></li><li><a href='#december142007'>December 14, 2007</a></li><li><a href='#december92007'>December 9, 2007</a></li><li><a href='#december32007'>December 3, 2007</a></li><li><a href='#november232007'>November 23, 2007</a></li><li><a href='#november132007'>November 13, 2007</a></li><li><a href='#november62007'>November 6, 2007</a></li><li><a href='#october302007'>October 30, 2007</a></li><li><a href='#october262007'>October 26, 2007</a></li><li><a href='#october232007'>October 23, 2007</a></li><li><a href='#october202007'>October 20, 2007</a></li><li><a href='#october142007'>October 14, 2007</a></li><li><a href='#october62007'>October 6, 2007</a></li><li><a href='#october22007'>October 2, 2007</a></li><li><a href='#september282007'>September 28, 2007</a></li><li><a href='#september152007'>September 15, 2007</a></li><li><a href='#september72007'>September 7, 2007</a></li></ul></li></ul></li></ul>

		<!--
Byte 1: Function code. Moves are categorized according to their function. You can find a list of moves by function code in my attack list.
Byte 2: Base damage.
Byte 3: Type.
Byte 4: Accuracy (up to 100).
Byte 5: Move's total PP.
Byte 6: Additional effect chance (up to 100).
Byte 7: Target (see top of attack list for details).
Byte 8: Priority. Normally equal to 0.
Byte 9: Flags (see top of attack list for details).

-->
		<h2 id='controls'>Controls</h2>
		<ul>
			<li><kbd>Z</kbd>/<kbd>Shift</kbd> key - Dash</li>

			<li>Arrow keys - Move the characters</li>
			<li><kbd>X</kbd>/<kbd>Esc</kbd> key - Opens the menu, cancels choices</li>
			<li><kbd>C</kbd>/<kbd>Enter</kbd>/<kbd>Space</kbd> key - Confirms choices, used to talk to people</li>

			<li><kbd>F5</kbd> - Uses a registered item</li>
			<li><kbd>F8</kbd> - Takes a screenshot of the game.  Screenshots are stored on the game
folder and have names like capture000.bmp.</li>
			<li><kbd>F9</kbd> - Opens the debug menu (playtests only)</li>
		</ul>

		<p>Press <kbd>Ctrl+X+Down</kbd> during the title screen to delete save data.</p>
<h2 id='upgradingfrompreviousversions'>Upgrading from previous versions</h2>
		<p>Since September 2007, there have been many releases of Pok&eacute;mon Essentials (see the <a href='#history'>history</a>),
so it may be helpful to learn how to upgrade to a new version.
If you modified the scripts, then you should keep them separate as you replace them with the newer versions. Also, keep this in mind (posted by Flameguru):

</p>
		<blockquote>
			<p>Simple...well, maybe not. Here I go!</p>
			<p>First, make a copy of your entire projects folder. Then go into your games Data Folder. Copy over all of the Map Files, MapInfos, and the Tilesets data files.</p>
			<p>If you used any custom Tilesets or charsets or even pictures copy them over too, same for audio.</p>
			<p>Then go into the merged project and make an event and make it control switches. Then copy all of your switches from your game to the merged project.</p>
			<p>It's kind of confusing but it only takes 20 minutes max and it's what i have been doing this whole time</p>

		</blockquote>
<p>If you haven't changed any of the scripts, you can easily upgrade by copying the files Scripts.rxdata and EditorScripts.rxdata in the Data folder to your project's Data folder, then running Editor.exe or running the game from RPG Maker&#x2122; XP.</p>
		<h2 id='problemwhenopeningproject'>Problem when opening project</h2>
		<p>If you are using RPG Tsukuuru XP in Japanese and you can't open the project, then open Game.rxproj in Notepad and change "RPGXP 1.02" to "RPGXP 1.01" or, if necessary "RPGXP 1.00", then save the file.</p>
		<p>If you have problems opening the game, you may need to get the file "<a href='/web/20120302172735/http://google.com/search?q=RGSS102E'>RGSS102E.dll</a>", which is probably included with Pok&eacute;mon Essentials.  Once you have that file, put it within the game's folder.  That file should be included in finished game projects if you are not sure whether users will possess that file.</p>
		<h2 id='commonquestions'>Common Questions</h2>
		<h3 id='howdoicreateapokemonmart'>How do I create a Pok&eacute; Mart?</h3>
		<p>To create a Pok&eacute; Mart, give the event a Script event command with
"pbPokemonMart([X])", where X is a list of the items available for purchase
there.  See <a href='#pokemonmart'>Pok&eacute; Mart</a> for details.</p>

		<p>Check the girl event next to the PC on Test Map 2 to see an example.</p>
		<h3 id='howcanicreatearivalandgivethatrivalaname'>How can I create a rival and give that rival a name?</h3>
<p>See the section "<a href='#displayingaplayersuppliednameforaperson'>Displaying a Player-Supplied Name for a Person</a>."</p>
		<h3 id='howcanihealthepartywithoutapokemoncenter'>How can I heal the party without a Pok&eacute;mon Center?</h3>
		<p>The event command "Recover All: Entire Party" was redefined in Pokemon
Essentials for just this purpose.  It works essentially the same as in
other RPG Maker&#x2122; XP games.</p>

		<h3 id='howcanisetwheretheplayergoesafterlosingabattle'>How can I set where the player goes after losing a battle?</h3>
		<p>The point where the player goes after losing a battle depends on the last Pok&eacute;mon Center visited.  If the player didn't visit a Pok&eacute;mon Center yet, he or she goes to the "home point". To set the "home point", open editor.exe, then choose "Set Metadata", then "Global", then "Home".</p>
		<p>Though this approach is rarely necessary, you can also change the position within an event, by putting a Script event command consisting of the text "Kernel.pbSetPokemonCenter" within that event, which sets it to the player's current position. If you use this approach, there must be another event page on that event with an Autorun trigger and the condition "Switch '0005: Starting Over' is ON". That event page must heal all Pok&eacute;mon (use the event command "Recover All: Entire Party") and set the switch '0005: Starting Over' to OFF. For an example, see the event for any Pok&eacute;mon Center receptionist.</p>
		<p>See the section "<a href='#allowingaplayertoloseatrainerbattle'>Allowing a Player to Lose a Trainer Battle</a>" if you want the player to stay at the same place after losing a Trainer battle.</p>
		<h3 id='howdoicreateananimatedtitlescreen'>How do I create an animated title screen?</h3>
		<p>There are many ways to create a title screen, and the Scene_Intro script in Pokemon Essentials is just one example.  Please see the section <a href='#titlescreen'>Title Screen</a>, which shows the basic form of a title screen.  You should name the class "Scene_Intro".  Please note that this 
is an <a href='#anoteonscripting'>advanced scripting feature</a>.</p>

		<h3 id='icanuseahiddenmoveevenwithoutapokemonabletodoso'>I can use a hidden move even without a Pokemon able to do so!</h3>
		<p>This likely happened while you were playtesting a game.  This is intentional.  It happens only when you run the game from RPG Maker&#x2122; XP.  It won't happen when you run the game normally.  Please see <a href='#playtestingfunctions'>Playtesting Functions</a> for more information.</p>

<h3>How can I change the color of in-game text?</h3>
<p>To change the color of the text displayed in battle, open the Script Editor, and go to the script section PokeBattle_ActualScene. Then, look for lines like these.</p>

<pre>
MESSAGEBASECOLOR=Color.new(248,248,248)
MESSAGESHADOWCOLOR=Color.new(104,88,112)
MENUBASECOLOR=Color.new(72,72,72)
MENUSHADOWCOLOR=Color.new(208,208,208)
BOXTEXTBASECOLOR=Color.new(64,64,64)
BOXTEXTSHADOWCOLOR=Color.new(216,208,176)
</pre>

<p>These colors define the "base" color and "shadow" color for message boxes, command menus, and status boxes, respectively. The numbers in parentheses give the red, green, and blue color components of each color. You can edit these numbers in any way you want.</p>

<p>To change the color of text messages, menus, and so on, open the Script Editor, and go to the script section SpriteWindow. Then, look for the following lines:
</p>

<pre>
LIGHTTEXTBASE=Color.new(31*8,31*8,31*8)
LIGHTTEXTSHADOW=Color.new(23*8,23*8,23*8)
DARKTEXTBASE=Color.new(12*8,12*8,12*8)
DARKTEXTSHADOW=Color.new(26*8,26*8,25*8)
</pre>

<p>Edit the colors in the same way as mentioned above. LIGHTBASECOLOR
and LIGHTSHADOWCOLOR are used when text is displayed on a dark background.
DARKBASECOLOR and DARKSHADOWCOLOR are used when text is displayed on
a light background.</p>

		<h2 id='mapmaking'>Map Making</h2>
<p>Map making in Pokemon Essentials is generally the same as it is for other
RPG Maker&#x2122; XP games. This section has everything you should know about
map making in Pokemon Essentials.</p> 
		<h3 id='anoteonscripting'>A Note on Scripting</h3>
		<p>This page can't say everything about how to use the scripting language
Ruby.  To learn how, see the links in the Ruby language Web site's 
<a href='/web/20120302172735/http://www.ruby-lang.org/en/documentation/'>Getting Started section</a>.
For reference material, read the help file included in RPG Maker&#x2122; XP.
For general information on RPG Maker&#x2122; XP and RGSS, please read the 
<a href='/web/20120302172735/http://en.wikipedia.org/wiki/RPG_Maker_XP'>Wikipedia&reg; article</a> on it.</p>
		<p>For advanced topics, see the <a href='advanced.html'>Advanced Topics</a> page.</p>
		<h3 id='findinginformationabouttilesandmaps'>Finding Information About Tiles and Maps</h3>
		<p>The status bar on the bottom of RPG Maker&#x2122; XP contains information about the map. Here's an example of a status bar:</p>

		<pre>
011: Test Map (30 x 28)
</pre>
		<p>The middle of the status bar shows the map ID (011), the name of the map (Test Map), and the width and height of the map (30 x 28)</p>
		<p>Now move your mouse over the map. Notice how another area on the status bar changes. This shows the X and Y coordinates of the point where the mouse currently is. Example: 013, 014 means that the mouse is pointing to the tile at X coordinate 13 and Y coordinate 14.</p>

		<h3 id='terraintags'>Terrain Tags</h3>
		<p>The following terrain tags are defined:</p>
		<ul>

			<li>1: Ledges (Tiles with this tag should have only one valid
direction. The player will jump over the ledge in this direction.)</li>
			<li>2: Grass</li>
			<li>3: Sand</li>
			<li>4: Rocky ground</li>
			<li>5: Deep water</li>
			<li>6: Still water (events will be reflected by these tiles)</li>
			<li>7: Normal water</li>
			<li>8: Waterfall</li>
			<li>9: Crest of waterfall</li>
			<li>10: Tall grass</li>
			<li>11: Underwater grass</li>
			<li>12: Ice (The player may slide on these tiles)</li>

			<li>13: Neutral (For use on tiles that the player could walk on but have special tiles underneath them.)</li>
		</ul>
		<p>More may be defined in the future. However, RPGXP's tileset editor only supports seven terrain tags. That's why Pok&eacute;mon Essentials contains a built-in terrain tag editor. To access it, open the Pok&eacute;mon Essentials Editor (editor.exe), then choose "Edit Terrain Tags."</p>

<h3 id='ledges'>Ledges</h3>
<p>Ledges can be jumped on by the player. They 
have terrain tag 1, and they can be jumped on only from a certain
direction. To set that direction, go to the Tilesets tab of the Database
and click <kbd>Passage (4 dir)</kbd>.</p>
<p>For each tile, sides with
arrows on them are passable, and sides with a dot on them are
not passable. For example, a tile with an arrow only on the north side
and dots on all other sides can be entered only from the north side.</p>
<p>To make a ledge that the player can jump over from west to east,
set its Terrain tag to 1, then, in <kbd>Passage (4 dir)</kbd>, set the
tile so that it shows an arrow on the west side and dots on the other
three sides. Making a south-to-north ledge, an east-to-west ledge,
and so on, follows a similar process.</p>

<h3 id='couches'>Couches</h3>
<p>Tiles that represent couches should be passable only on the sides
and the front of the couch and should not be passable on the back.</p>
<p>See "Ledges" to learn how to make a tile passable only from
certain directions.</p>
<h3 id='expandingthetextfields'>Expanding the Text Fields</h3>
<p>Pokemon Essentials includes a utility (expandtext.exe) for expanding the Show Text, Script,
Comment, and Batch Text Entry dialog boxes of RPG Maker&#x2122; XP. Start RPG Maker&#x2122; XP if it isn't running,
then start <kbd>expandtext.exe</kbd>. Then, all dialog boxes with those names will be enlarged to give you more room to enter text, scripts, and comments. In particular,
the Show Text box will be expanded to four lines instead of just three.</p>
<p>The Pokemon Essentials editor will also run <kbd>expandtext.exe</kbd> automatically.</p>
<h3 id='considerations'>Considerations</h3>
		<h4 id='avoidingblackregionsnearmapedge'>Avoiding Black Regions Near Map Edge</h4>
		<p>In general, the border of a map needs to be wide enough so that the player can remain centered without any black spots on the edges. That means 7 tiles on the left and right edges of the map and six tiles on the top and bottom edges. You can easily add more room to a map using the following steps:</p>
		<ul>
			<li>Right-click on the map's name and select "Map Properties". You can set the width and height of the map to allow more room for edges.</li>

			<li>Right-click on the map's name and select "Shift". You can use this feature to move the map to the right and down as needed to allow more room for edges. You can then draw the edges with trees, walls, and so on.</li>
		</ul><p>On the other hand, this behavior of a black area outside the map is desired for indoor maps.</p>
		<h4 id='canstillsurfonwaterevenwithabridgeoverit'>Can still surf on water even with a bridge over it</h4>
		<p>Water tiles have <a href='#terraintags'>terrain tag</a> 7. However, the RPGXP map system ignores tiles without terrain tags when it finds out what terrain tag an area has. In this case, bridge tiles have no terrain tag, but since a water tile is underneath it, the game treats the bridge as terrain tag 7, making the player surf over the bridge. To work around this, define a terrain tag for bridges (the neutral terrain
tag 13 is designed for this purpose). To change the terrain tag, open "editor.exe" (the Pokemon Essentials Editor), then choose "Edit Terrain Tags."</p>

		<h4 id='gamefreezesduringmovement'>Game freezes during movement</h4>
		<p>You may have this problem when an event has a move route followed by a "Wait for Move's Completion" command, but the event can't move. To solve this problem, do the following.</p>
		<ul>
			<li>Is the event to be moved placed on an impassable tile? If so, make the tile in question passable (using the Tilesets tab of the database), or move the event to a passable tile. Then test whether it works.</li>
			<li>Are any events blocking the way? If so, move them using the Set Event Location event command. Then test whether it works.</li>
			<li>Add "Through ON" to the beginning of the event's move route, and add "Through OFF" to the end of the move route. Then test whether it works.</li>
			<li>Enable the setting "Ignore If Can't Move" for the event's move route.</li>
		</ul>
		<h4 id='startingposition'>Starting Position</h4>
		<p>You can't change the player's starting position to any map other than the introduction, unless you've used a script to set up the player (see "<a href='#introscreen'>Intro Screen</a>" for more information).  Otherwise, the game system won't work.</p>
<h3 id='dungeons'>Dungeons</h3>
<p>Pokemon Essentials includes support for so-called dungeons. The layout of a dungeon changes each time the player enters it. To make a map a dungeon, open the Pokemon Essentials editor (editor.exe), choose Set Metadata, select the map, and finally set the "Dungeon" setting.</p>
<p>A dungeon uses three different autotiles:</p>
<ul>
<li>Autotile 1 - Ceiling of the wall (should not be passable).
An example of a suitable ceiling is
the image Graphics/Pictures/wall.bmp.</li>
<li>Autotile 2 - Floor (should be passable).
An example of a suitable floor is
the image Graphics/Pictures/AutoTile n8p.png.</li>
<li>Autotile 3 - Wall (should not be passable).
An example of a suitable wall is
the image Graphics/Pictures/wall2.bmp.
</li>
</ul>
<p>You can place events anywhere on the dungeon map. The game will place them randomly
 on the dungeon floor when it generates the dungeon.  However, you should
include an event that moves the player to a new map. Otherwise, the player can't leave the dungeon. 
Also, the player's starting position should not be placed on a dungeon map.</p>
<p>The minimum recommended size for a dungeon is 40x40 pixels.</p>
<p>Other than these rules, dungeon maps are the same as any other maps. You can set encounters,
background music, and other metadata of a dungeon map as normal.</p>
		<h2 id='configurationfiles'>Configuration Files</h2>

		<p>Many aspects of the game are defined in several text files contained in the PBS folder:</p>
		<ul>
			<li>items.txt - Data on items</li>
			<li>metadata.txt - Various settings, both global and map-specific.</li>
			<li>trainernames.txt - Names of the kinds of Trainers in the game.</li>
			<li>connections.txt - Map connection data</li>

			<li>encounters.txt - Data on encounters with wild Pokemon.</li>
			<li>trainers.txt - Data on Trainers</li>
			<li>types.txt - Data on types</li>
			<li>townmap.txt - Data on the region map</li>
			<li>pokemon.txt - Data on Pok&eacute;mon</li>
		</ul>
		<p>For all configuration files, comment lines begin with a "#".
Each file must be saved in UTF-8 encoding.</p>

		<p>The file townmapgen.html in this distribution is designed for editing region maps.</p>
		<h3 id='datacompilation'>Data Compilation</h3>
		<p>The game system will compile the configuration text files into an internal format when you run the game from RPG Maker&#x2122; XP or set the $DEBUG global variable within a script.  This compilation usually happens only if the text files have changed after the last run of the game.  However, you can force it by holding CTRL as the game loads.</p>
		<h3 id='pbsconnectionstxt'>PBS/connections.txt</h3>
		<p>Pok&eacute;mon Essentials supports maps that connect to each other seamlessly. This file defines connection points of maps 
with others in the game.   However, an easier way to edit map connections is to use the "Visual Editor" option on the Pok&eacute;mon Essentials editor (editor.exe).</p>
		<h3 id='pbsencounterstxt'>PBS/encounters.txt</h3>

		<p>This text file is for placing encounter data for each map.   However, an easier way to edit Pok&eacute;mon encounters
is to use the "Set Encounters" option on the Pok&eacute;mon Essentials editor (editor.exe).  That method is also preferred.</p>
		<h3 id='pbsmetadatatxt'>PBS/metadata.txt</h3>
		<p>This text file describes metadata on each map in the game.   However, an easier way to edit metadata
is to use the "Set Metadata" option on the Pok&eacute;mon Essentials editor (editor.exe).  That method is also preferred.</p>
		<h3 id='pbstypestxt'>PBS/types.txt</h3>
		<p>This text file describes each Pok&eacute;mon type. The file is divided into sections, and each section's title is the type's ID enclosed by two square brackets like this: [5]</p>

		<p>Each section can have any number of entries. The entry's name and the entry's value are separated by an equal sign (=).</p>
		<p>Here are the possible entry types:</p>
		<ul>
			<li>Name - Required. Name of the type.</li>
			<li>InternalName - Required. Internal name of the type.</li>
			<li>IsPseudoType - Optional. Specifies whether the type is a pseudotype for special situations, such as "???". Either true or false.</li>
			<li>IsSpecialType - Optional. Specifies whether the type is a special Pok&eacute;mon type, rather than a physical Pok&eacute;mon type. Either true or false. If not given, the type is physical. Normally, though, physical and special moves are not classified according to type.</li>
			<li>Weaknesses - Optional. A comma-separated list of the internal names of Pok&eacute;mon types that are "super effective" against Pok&eacute;mon of this type.</li>
			<li>Resistances - Optional. A comma-separated list of the internal names of Pok&eacute;mon types that are "not very effective" against Pok&eacute;mon of this type.</li>
			<li>Immunities - Optional. A comma-separated list of the internal names of Pok&eacute;mon types that are ineffective against Pok&eacute;mon of this type.</li>
		</ul>
		<h3 id='pbspokemontxt'>PBS/pokemon.txt</h3>
		<p>This text file describes each Pok&eacute;mon in the game. The file is divided into sections, and each section's title is the Pok&eacute;mon's number (in the National Pokedex order) enclosed by two square brackets like this: [120]</p>

		<p>Each section can have any number of entries. The entry's name and the entry's value are separated by an equal sign (=).</p>
		<p>Here are the possible entry types:</p>
		<ul>
			<li>Name - Name of the Pok&eacute;mon.</li>
			<li>InternalName - Internal name of the Pok&eacute;mon.</li>
			<li>Kind - The kind of Pok&eacute;mon.</li>

			<li>RegionalNumbers - Optional. The order of this Pok&eacute;mon in one or more regional Pokedexes; 
for example, Treecko is number 1 in the Hoenn Pokedex. This is a comma-separated list of numbers.  
If at least one of the numbers is 0, then a species doesn't exist in at least one regional Pokedex.  
To manipulate regional and national Pokedex numbers, use the functions pbAllRegionalSpecies,
pbGetNationalNumber, and pbGetRegionalNumber in the script section PokemonUtilities.  See the comments
within those functions for more information.
</li>
			<li>Pokedex - Description of the Pok&eacute;mon as shown in the Pokedex.  If the description contains commas or quotation marks it must be contained within quotation marks and the quotation marks within the description must be preceded by the "\" symbol. For consistency, though, putting all descriptions in quotation marks is preferred.</li>
			<li>Color - Body color of the Pok&eacute;mon. One of Red, Blue, Yellow, Green, Black, Brown, Purple, Gray, White, Pink.</li>
			<li>Type1 - Type 1 of the Pok&eacute;mon. Required.</li>
			<li>Type2 - Type 2 of the Pok&eacute;mon. Optional.  If you leave out this setting, this Pok&eacute;mon has a single type.</li>

			<li>Height - Height in meters, rounded to the nearest tenth of a meter.
(Use a period for the decimal point, and don't use commas for thousands.)</li>
			<li>Weight - Weight in kilograms, rounded to the nearest tenth of a kilogram.
(Use a period for the decimal point, and don't use commas for thousands.)</li>
			<li>GenderRate - Gender rate of the Pok&eacute;mon. One of FemaleOneEighth, Female25Percent, Female50Percent, Female75Percent, AlwaysMale, AlwaysFemale, or Genderless. This value should be FemaleOneEighth for the first Pokemon that the player receives in a game (such as Bulbasaur, Cyndaquil, or Mudkip).</li>
			<li>BaseStats - Base stats of the Pok&eacute;mon for HP, Attack, Defense, Speed, Special Attack, and Special Defense. 
A comma-separated list of six numbers, each ranging from 0 through 255.</li>
			<li>Rareness - Catch rate. A higher number means the species is easier to catch. From 0 through 255. In general, the rarer or heavier the species is, the lower this value. This value
should equal 3 if the Pokemon is "legendary."</li>
			<li>BaseEXP - Base experience. A higher number means the Pok&eacute;mon gains more experience upon defeating a Pok&eacute;mon of this species. From 0 through 255.</li>
			<li>Happiness - Starting happiness when caught.  From 0 through 255.  Normally equal to 70.</li>
			<li>GrowthRate - Growth rate. One of Fast, Medium, Slow, Parabolic, Erratic, or Fluctuating. Use the Parabolic growth rate for the first Pokemon that the player receives in a game (such as Bulbasaur, Cyndaquil, or Mudkip). Use the Slow growth rate if the species is "unique".</li>
			<li>StepsToHatch - Number of steps required before egg hatches. Should be a multiple of 256.  Normally 5120.</li>
			<li>WildItemCommon - Item commonly found in this species in the wild.  Optional.</li>
			<li>WildItemRare - Item rarely found in this species in the wild.  Optional.</li>

			<li>Compatibility - Compatibility with other species for breeding purposes. A comma-separated list of two numbers. If either number is 15, this species can't breed.
 In general, these numbers should be the same for each species in the same line of evolution. However, for baby Pokemon that previously weren't the lowest evolutionary form (e.g. Azurill, Pichu, Wynaut) these two numbers should each equal 15.<ul><li>Meaning of each number: 1="Monster"; 2="Water1" (sea creatures); 3="Bug"; 4="Flying",
      5="Ground", 6="Fairy", 7="Plant", 8="Humanshape", 9="Water3" (shellfish),
      10="Mineral", 11="Indeterminate" (ghosts, having no defined shape), 12="Water2" (fish), 13="Ditto", 14="Dragon"</li></ul></li>
			<li>EffortPoints - Effort values for HP, Attack, Defense, Speed, Special Attack, and Special Defense, 
earned when a Pok&eacute;mon of this species is defeated. A comma-separated list of six numbers, each ranging from 0 through 3.
In general, these values should correspond to the base stats for this species. The total of all six values should be 1, 2, or 3 (1 for Pokemon
at evolution stage 1; 2 for Pokemon at stage 2; and 3 for Pokemon
at stage 3).</li>
			<li>Abilities - One or two abilities possible for this species. For the first Pokemon a player receives in a game, this value traditionally equals OVERGROW for Grass types, BLAZE for fire types, and TORRENT for Water types.</li>
			<li>Moves - Moves learned by this species by gaining levels. This is a comma-separated list consisting of pairs of move-level entries.
<ul><li>Example: 1,TACKLE,4,GROWL,7,LEECHSEED,10,VINEWHIP,15,POISONPOWDER,15,SLEEPPOWDER,20,RAZORLEAF,25,SWEETSCENT,32,GROWTH,39,SYNTHESIS,46,SOLARBEAM</li></ul>
</li>
			<li>Evolutions - Evolved forms of this species. This is a comma-separated list consisting of groups of three entries each, where the first is the evolved form, the second is the evolution type, and the third is data that depends on the evolution type. Evolution types are:

<table>
					<tr>
						<th>Field 2's value</th>
						<th>Field 3's value</th>
						<th>Notes</th>
					</tr>
					<tr>
						<td>Happiness</td>
						<td>---</td>
<td>Evolves if happiness is 200 or greater.</td>
					</tr>
					<tr>
						<td>HappinessDay</td>
						<td>---</td>
<td/>
					</tr>
					<tr>
						<td>HappinessNight</td>

						<td>---</td>
<td/>
					</tr>
					<tr>
						<td>Level</td>
						<td>Level</td>
<td>Most Pokemon evolve in this way.</td>
					</tr>
					<tr>

						<td>Trade</td>
						<td>---</td>
<td/>
					</tr>
					<tr>
						<td>TradeItem</td>
						<td>Item's internal name</td>
<td>Evolves if holding the specified item after it is traded.</td>
					</tr>

					<tr>
						<td>Item</td>
						<td>Item's internal name</td>
<td>Evolves if the player uses the specified item on it.</td>
					</tr>
					<tr>
						<td>AttackGreater</td>
						<td>Level</td>
<td>Evolves if its Attack is greater than its Defense after it levels up.</td>
					</tr>
					<tr>
						<td>AtkDefEqual</td>
						<td>Level</td>
<td>Evolves if its Attack and Defense are equal after it levels up.</td>
					</tr>
					<tr>
						<td>DefenseGreater</td>

						<td>Level</td>
<td>Evolves if its Defense is greater than its Attack after it levels up.</td>
					</tr>
					<tr>
						<td>Silcoon</td>
						<td>Level</td>
<td>Special evolution type for species that can evolve in one of two forms that
is predetermined upon creation of the Pokemon.</td>
					</tr>
					<tr>

						<td>Cascoon</td>
						<td>Level</td>
<td>Special evolution type for species that can evolve in one of two forms that
is predetermined upon creation of the Pokemon.</td>
					</tr>
					<tr>
						<td>Ninjask</td>
						<td>Level</td>
<td>Special evolution type for species that create a duplicate of a Pokemon in
another species. This is the evolved form.</td>
					</tr>

					<tr>
						<td>Shedinja</td>
						<td>Level</td>
<td>Special evolution type for species that create a duplicate of a Pokemon in
another species. This is the species of the duplicate Pokemon.</td>
					</tr>
					<tr>
						<td>Beauty</td>
						<td>Minimum Beauty</td>
<td>Not implemented in Pokemon Essentials, since the game system
has no concept of Beauty, Toughness or other Pokemon Contest aspects.</td>
					</tr>
					<tr><td>ItemMale</td><td>Item's internal name</td>
<td>Evolves if the player uses the specified item on it and it's male.</td></tr>
					<tr><td>ItemFemale</td><td>Item's internal name</td>
<td>Evolves if the player uses the specified item on it and it's female.</td></tr>
					<tr><td>DayHoldItem</td><td>Item's internal name</td>
<td>Evolves if it's holding the specified item and it's day.</td></tr>
					<tr><td>NightHoldItem</td><td>Item's internal name</td>
<td>Evolves if it's holding the specified item and it's night.</td></tr>

					<tr><td>HasMove</td><td>Move's internal name</td></tr>
					<tr><td>HasInParty</td><td>Species's internal name</td></tr>
					<tr><td>LevelMale</td><td>Level</td>
<td>Evolves only if male.</td></tr>
					<tr><td>LevelFemale</td><td>Level</td>
<td>Evolves only if female.</td></tr>
					<tr><td>Special1</td><td>-</td>
<td>Reserved.</td></tr>
					<tr><td>Special2</td><td>-</td>
<td>Reserved.</td></tr>
					<tr><td>Special3</td><td>-</td>
<td>Reserved.</td></tr>
					<tr><td>Custom1</td><td>Number from 0 through 65535</td>
<td>See below for more on custom evolution types.</td></tr>
					<tr><td>Custom2</td><td>Number from 0 through 65535</td>
<td>See below for more on custom evolution types.</td></tr>
					<tr><td>Custom3</td><td>Number from 0 through 65535</td>
<td>See below for more on custom evolution types.</td></tr>
					<tr><td>Custom4</td><td>Number from 0 through 65535</td>
<td>See below for more on custom evolution types.</td></tr>
					<tr><td>Custom5</td><td>Number from 0 through 65535</td>
<td>See below for more on custom evolution types.</td></tr>
					<tr><td>Custom6</td><td>Number from 0 through 65535</td>
<td>See below for more on custom evolution types.</td></tr>
					<tr><td>Custom7</td><td>Number from 0 through 65535</td>
<td>See below for more on custom evolution types.</td></tr>
				</table>
<p>Example:</p>
<pre>
OMASTAR,Level,40
VILEPLUME,Item,LEAFSTONE,BELLOSSOM,Item,SUNSTONE
ESPEON,HappinessDay,,UMBREON,HappinessNight,
SHELLDER,HasInParty,
</pre>
<p>Pokemon Essentials intentionally doesn't include evolution entries for Glaceon, Leafeon, or
Probopass because these three species are obtained only if the player is in a certain place (that is, map), which
can't reliably be verified in Pokemon Essentials without more.</p>

				<p>For the custom evolution types, the number given serves as one of the parameters to the evolution-checking
function within the script section PokemonEvolution.  In the function pbMiniCheckEvolution, there are areas of code
such as "Add code for custom evolution type X" where you can add a custom evolution check.  The function has four
parameters: "pokemon", which is the Pok&eacute;mon to be checked; "evonib", which is the evolution type; "level", which is
the level or other parameter; and "poke", which is the species to evolve to.  An example of code for an example evolution type, where a Pok&eacute;mon species evolves if it is raining, follows:</p>
				<pre>
return poke if $game_screen &amp;&amp; $game_screen.weather==1 || $game_screen.weather==2
</pre>
				<p>And here is a more complex evolution check where a Pok&eacute;mon evolves only if it is well trained (that is, if its
total effort values meet or exceed a certain amount):</p>
				<pre>

evtotal=0
for i in 0...6
 evtotal+=pokemon.ev[i]
end
return poke if evtotal&gt;=level
</pre>
				<p>The parameter here, marked as "level", can be 300, for example.</p>
			</li>
			<li>EggMoves - Moves that the species can learn only as an egg. This data is valid 
only if the species is in its lowest evolutionary form.
<ul><li>Example: LIGHTSCREEN,SKULLBASH,SAFEGUARD,CHARM,PETALDANCE</li></ul></li>
			<li>Machines - This setting is not used anymore because Technical and Hidden Machines
are now supported differently, see <a href='#pbstmtxt'>PBS/tm.txt</a> and <a href='#technicalmachine'>Technical Machine</a>.</li>

			<li>BattlerPlayerY - Specifies the relative position of the back of the sprite 
(<b>Graphics/Battlers/XXXb.png</b>) on the battle screen.  A higher number means the back sprite is placed lower on the screen. This number can be negative.</li>
			<li>BattlerEnemyY - Specifies the relative position of the front side sprite 
(<b>Graphics/Battlers/XXX.png</b>) on the battle screen.  A higher number means the front side sprite is placed lower on the screen. This number can be negative.</li>
			<li>BattlerAltitude - Specifies how far from the ground the front sprite is placed, that is, this value will be higher than 0 if the sprite has the appearance of being suspended in the air.  A higher number means the front sprite is placed further from the ground.</li>
		</ul>
		<p>For information on Pok&eacute;mon graphics, see <a href='#pokemongraphicsandicons'>Pok&eacute;mon Graphics and Icons</a>.</p>

		<h3 id='pbsmovestxt'>PBS/moves.txt</h3>
		<p>This file stores data on each move in the game. It will be converted to a runtime format when you run a playtest of the game from RPG Maker&#x2122; XP. Each line contains data on one move and is divided into fields separated by commas:</p>
		<ul>
			<li>Field 1: ID of the move.</li>
			<li>Field 2: Name used internally, as in scripts, to refer to the move.</li>
			<li>Field 3: Name of the move as displayed in the game.</li>

			<li>Field 4: Function code of the move.  A hexadecimal value.  See the 
<a href='/web/20120302172735/http://upokecenter.com/games/rs/guides/attacks.html'>list of moves</a> for the
meaning of each function code.  In that page, the function code for that move is located before the description of each move's effect. For <a href='#anoteonscripting'>scripting experts</a>: To add a function code not defined in that page, open the script section PokeBattle_MoveEffects and add a so-called move effect class for that function code.</li>
			<li>Field 5: Base damage.</li>
			<li>Field 6: Type.</li>
			<li>Field 7: Move category, either Physical, Special, or Status.  As of the January 19, 2008 release, the game will
use this category instead of type to determine whether an attack is physical or special. Set to Status 
if the base damage is 0. (Physical attacks represent brute force, while
special attacks represent magic.)</li>
			<li>Field 8: Accuracy of the move, up to 100.  Set to 0 if the move has no opponent as a target.</li>

			<li>Field 9: Total PP.</li>
			<li>Field 10: Additional effect chance, up to 100.  The meaning of the additional effect
depends on the move's function code (field 4).</li>
			<li>Field 11: Target.  A hexadecimal value.<ul>
					<li>00 - Single Pok&eacute;mon other than the user</li>
					<li>01 - No target</li>
					<li>02 - Opposing Pok&eacute;mon selected at random</li>
					<li>04 - All opposing Pok&eacute;mon</li>
					<li>08 - All Pok&eacute;mon other than the user</li>
					<li>10 - User</li>
					<li>20 - Both sides</li>
					<li>40 - User's side</li>
					<li>80 - Opposing Pok&eacute;mon's side</li>
					<li>100 - User's partner</li>
					<li>200 - User or user's partner</li>
					<li>400 - Single Pok&eacute;mon on opponent's side</li>
				</ul></li>

			<li>Field 12: Priority.  Normally, this value is 0, but set to a positive number to make it strike earlier than normal attacks,
or to a negative number to make it strike later.  For moves like Quick Attack, this should equal 1.</li>
			<li>Field 13: Flags. Any combination of the following letters:<ul>
					<li>a: This is a direct attack, where the attacker makes direct contact with the opponent.</li>
					<li>b: The opponent can use Protect or Detect to protect itself from this move.</li>
					<li>c: The opponent can use Magic Coat to redirect the effect of this move. Use this flag
if the move deals no damage but causes a negative effect on an opponent.</li>
					<li>d: The opponent can use Snatch to steal the effect of this move.  Use this flag
for most moves that target the user. (Flags c and d are mutually exclusive.)</li>

					<li>e: The game does an accuracy check for this move, the accuracy field should not be 0.</li>
					<li>f: If the user holds a King's Rock, the opponent may flinch after the attacker uses this attack. Direct attacks (flag a) that use the attacker's body (such as punches, kicks, and tail swings), and nondirect attacks that represent pure elemental attacks like fire and water, don't have this flag.</li>
				</ul></li>
			<li>Field 14: Contest type, either Cool, Beauty, Cute, Smart, or Tough.</li>
			<li>Field 15: Description of the move. If the description contains commas or quotation marks it must be contained within quotation marks and the quotation marks within the description must be preceded by the "\" symbol. For consistency, though, putting all descriptions in quotation marks is preferred.</li>
		</ul>
		<h3 id='pbsitemstxt'>PBS/items.txt</h3>

		<p>This file stores data on each item in the game. You can also use the "Edit Items" option in the Pokemon Essentials Editor (editor.exe) to edit items. For examples, see "<a href='#addingnewitems'>Adding New Items</a>".</p>
		<h4 id='implementingnewitems'>Implementing New Items</h4>

		<p>The following describes an <a href='#anoteonscripting'>advanced scripting feature</a>.</p>
		<p>New items are implemented by registering <dfn>item handlers</dfn> with the game system.  Item handlers are scripts that control how a particular item works.</p>

<p>Fields 7 and 8 of <a href='#pbsitemstxt'>items.txt</a> give
the moments where a player can use a certain item.  These fields determine which handlers an item should implement.
There are six different item handlers that are called whenever the player tries to use an item:</p>
		<ul>
			<li>ItemHandlers::UseFromBag.add(item,proc) - Registers the item handler _proc_ for an item that the player can use directly
from the Bag, such as a bicycle, Repel, or the Town Map.  The game calls this item handler after the player selects the item from the Bag screen. Parameters:
<ul>
					<li>_item_ - item to use</li>

				</ul>
Returns one of the following:  0 = Item not used; 1 = Item used, don't end screen; 2 = Item used, end screen; 3 = Item used, consume item; 4 = Item used, end screen and consume item.
</li>
			<li>ItemHandlers::UseInField.add(item,proc) - Registers the item handler _proc_ for an item that the player can use on the field by pressing F5. The game calls this item handler after the player presses the F5 key or after
an "addUseFromBag" item handler returns 2 or 4 (item used, end screen). Parameters:
<ul>
					<li>_item_ - item to use</li>
				</ul>
			</li>
			<li>ItemHandlers::UseOnPokemon.add(item,proc) - Registers the item handler _proc_ for an item that the player can use on a Pokemon. The game calls this item handler after the player chooses a Pokemon.
 Parameters:
<ul>

					<li>_item_ - item to use</li>
					<li>_pokemon_ - Pok&eacute;mon the item will be used on (type: PokeBattle_Pokemon)</li>
					<li>_scene_ - Pok&eacute;mon selection screen (type: PokemonScreen). Often only used to display a message like this: 
<code>scene.pbDisplay(_INTL("Message."))</code></li>
				</ul>
The item handler returns true if the item was used successfully, and false otherwise.
</li>
			<li>ItemHandlers::BattleUseOnPokemon.add(item,proc) - Registers the item handler _proc_ for an item that the player can use on a party Pok&eacute;mon
while in battle.  Examples include Potion, Revive, and Full Heal.  The game calls this item handler after the player chooses a Pokemon. Parameters:

<ul>
					<li>_item_ - item to use</li>
					<li>_pokemon_ - Pok&eacute;mon the item will be used on (type: PokeBattle_Pokemon)</li>
					<li>_battler_ - Battler object, if _pokemon_ is one of the active Pok&eacute;mon (type: PokeBattle_Battler); nil otherwise</li>
					<li>_scene_ - Pok&eacute;mon selection screen (type: PokemonScreen).</li>
				</ul>

The item handler returns true if the item was used successfully, and false otherwise.
</li>
			<li>ItemHandlers::BattleUseOnBattler.add(item,proc) - Registers the item handler _proc_ for an item that the player can use on an active Pok&eacute;mon.  Examples include X Attack and Guard Spec.  The game calls this item handler after the player selects the item from the Bag screen.  Parameters:
<ul>
					<li>_item_ - item to use</li>
					<li>_battler_ - Battler the item will be used on (type: PokeBattle_Battler)</li>
					<li>_scene_ - Bag screen (type: PokemonBagScreen).</li>
				</ul>
The item handler returns one of the following: false - item not used;
true - item was used
</li>
<li>ItemHandlers::UseInBattle.add(item,proc) - Registers the item handler _proc_ for an item that the player uses in battle.  Examples include the Pok&eacute; Ball, Pok&eacute; Doll, and Pok&eacute; Flute.  The game calls this item handler after the player selects the item from the Bag screen, the Bag is closed, and the game returns to the battle screen.  Parameters:
<ul>
					<li>_item_ - item to use</li>
					<li>_battler_ - Battler the item is used on (type: PokeBattle_Battler)</li>
					<li>_battle_ - Battle object (type: PokeBattle_Battle).</li>
				</ul>
The item handler doesn't return a value.
</li>
		</ul>
<p>The script section PokemonDefaultItems includes item handlers for all items included
by default in Pokemon Essentials. To implement an item handler, go to the Script editor, insert a new script section just before the last one, and write the code for the item handler.</p>
		<p>The following gives some guidance on the item handlers that an item should implement depending on its usability.</p>
		<p>Field 7 (usability outside of battle)</p>
		<ul>
			<li>If Field 7 is 1, the function ItemHandlers.addUseOnPokemon should be called for that item.</li>
			<li>If Field 7 is 2, the function ItemHandlers.addUseFromBag should be called for that item.  If the item is a key item,
it should also implement ItemHandlers.addUseInField.</li>

		</ul>
		<p>Field 8 (usability in battle)</p>
		<ul>
			<li>If Field 8 is 1 or 3, the function ItemHandlers.addBattleUseOnPokemon should be called for that item.</li>
			<li>If Field 8 is 2, the function ItemHandlers.addBattleUseOnBattler should be called for that item.</li>
		</ul>
		<p>The following shows some examples of item handlers for a"Cake", which restores
30 HP.  For completeness, it implements all five item handlers.</p>

		<pre>
# Handlers implemented
ItemHandlers::UseFromBag.add(
 :CAKE,
 proc{|item,pokemon,scene|
  pbHPItem(pokemon,30,scene)
 }
)
ItemHandlers::BattleUseOnBattler.add(
 :CAKE,
 proc{|item,pokemon,battler,scene|
  pbBattleHPItem(pokemon,battler,30,scene)
 }
)
# Handlers not implemented
ItemHandlers::UseFromBag.add(
 :CAKE,
 proc{|item| 0; }
)
ItemHandlers::UseInField.add(
 :CAKE,
 proc{|item| 
  Kernel.pbMessage(_INTL("Can't use that here."))
 }
)
ItemHandlers::BattleUseOnPokemon.add(
 :CAKE,
 proc{|item,battler,scene| false; }
)
</pre>
		<h3 id='pbstrainernamestxt'>PBS/trainernames.txt</h3>
		<p>This file stores data on each trainer type.  However, the preferred way to edit trainer types
is to use the "Trainer Types" option on the Pok&eacute;mon Essentials editor (editor.exe).</p>
		<h3 id='pbstrainerstxt'>PBS/trainers.txt</h3>
		<p>This text file stores data on each Trainer in the game.  However, the preferred way to edit Trainers and Trainer battles
is to use the "Edit Trainers" option on the Pok&eacute;mon Essentials editor (editor.exe).</p>

		<h3 id='pbstmtxt'>PBS/tm.txt</h3>
		<p>Very simple file.  This file is a list of moves and the Pokemon species that can learn each move.  Used in TMs/HMs.</p>
		<h2 id='townmapgeneratortownmapgenhtml'>Town Map Generator (townmapgen.html)</h2>
		<p>The Town Map editor is designed to make editing the region map easier.</p>
		<p>When the editor is started, it loads the file at Graphics/Pictures/Map.png. You can replace that file with the map of your game's region. However, the map should be drawn in terms of 16x16 tiles. The example map included is the map of Hoenn. You can get a good idea on how the Town Map Editor works when you fill in the map.</p>
		<p>Start by clicking any point on the map; for instance a city. Then fill in details about the point:</p>

		<ul>
			<li>Name: Name of this point.</li>
			<li>Point of Interest: Name of a <a href='#pointsofinterest'>point of interest</a> this point describes.</li>
			<li>Healing Spot: This field specifies the map ID of a town where a Pok&eacute;mon Center or similar healing spot is located, followed by and the X and Y coordinates of that healing spot's entrance. These three values are separated by commas. This is where the player will travel to when the player uses Fly, but only if he or she has already visited it.</li>
			<li>Switch: If you enter a number here, the point won't be shown until the switch with this number is on. This number is one of the switches in RPG Maker&#x2122; XP. You would set this, for example, if this is a location outside of the main storyline, where special Pok&eacute;mon can be found.</li>
		</ul>
		<p>After completing the fields, click Save. You can now see the point in the text below the Save button. Copy and paste this text to <var>townmap.txt</var> after you are done with the editor. You can put the text in a new or existing section of that file. (Sections begin with a number within brackets, for example: [1])</p>
		<p>The next time you use the map editor, you can paste a section from <var>townmap.txt</var> (without the section heading in brackets) onto the big text box and click Load to start editing again.</p>
		<h3 id='pointsofinterest'>Points of Interest</h3>
		<p>The "Point of Interest" setting is meant to describe an entrance to a cave, the location of an important zone (preferably one with RPGXP maps of its own), or anything interesting within the main location the point describes. Examples:</p>
		<pre>
0,0,"FUCHSIA CITY","SAFARI ZONE",,
2,2,"ROUTE 111","DESERT",,
4,3,"ROUTE 220","LOST TOWER",,
6,6,"LAVENDER CITY","POKeMON TOWER",,
8,8,"EVER GRANDE CITY","VICTORY ROAD",,

</pre>
		<p>However, that setting should not name a building within a city or town, as in these cases:</p>
		<pre>
0,0,"SAFFRON CITY","SILPH CO.",,
5,0,"RUSTBORO CITY","DEVON CORPORATION",,
3,3,"VEILSTONE CITY","GAME CORNER",,
</pre>
		<p>In most cases, however, the Point of Interest setting is left blank, since the number of points of interest is generally small within a game.</p>
		<h2 id='animations'>Animations</h2>
		<p>The battle system allows the animations to be customized.  Currently, almost all
of the animations are of the move Tackle.  There are two ways to add move animations--
<a href='#battleanimations'>using RPG Maker&#x2122; XP</a> or using the in-game <a href='#animationeditor'>Animation Editor</a>.</p>

		<h3 id='animationeditor'>Animation Editor</h3>
		<p>The Animation Editor is designed for creating Pok&eacute;mon battle animations.
A separate editor is necessary because the animations for many moves
require the attacker and the target to be manipulated.</p>
		<p>The Animation Editor is located on the game's Debug menu.</p>
		<h4 id='quickstart'>Quick Start</h4>
		<p>The controls at the bottom left of the window are important ones when
working with the editor.  The "Frame:" control changes the number of frames;
"Set Animation Bitmap" changes the bitmap used for animations; 
"Frames:X" lets you set the number of frames; and you can rename or 
add more animations by clicking List of Animations.</p>
		<p>The animation palette is located just above the name window.  Click the 
left and right arrows to scroll the palette, and click on an object in the
palette to select it.  If you click on the canvas, the object will appear as a cell.  
To select an existing cell, click on it.  You can then move it,
press L to lock it, preventing movement, or press P to open its properties.</p>

		<p>Animations will be saved in the file Data/PkmnAnimations.rxdata.</p>
		<h4 id='editorfeatures'>Editor Features</h4>
		<p>Here are descriptions of the editor's controls:</p>
		<ul>
			<li>Frame:  Changes the current frame.</li>
			<li>Set Animation Bitmap:  Sets the bitmap file that contains the objects used
in the animation.</li>

			<li>Frames:  Shows the number of frames.  Click to change the number of frames.</li>
			<li>Name:  Shows the animation's name.</li>
			<li>List of Animations:  Shows the list of animations.
     Here you can select an animation.  Press F5 to rename an animation,
     or change the number of animations by modifying the number under "Animations"
     and clicking "Resize Animation List".  Press ESC to close.</li>
			<li>Paste Last:  Copies the last frame to this frame.</li>
			<li>Copy Frames:  Copies a sequence of frames elsewhere.<ul>
					<li>     First Frame:  First frame in the sequence of frames to copy. The first frame is numbered 0.</li>

					<li>     Last Frame:  Last frame in the sequence of frames to copy.</li>
					<li>     Copy to:  Makes this frame equal to (First Frame), makes the next frame
         equal to (First Frame + 1), and so on.</li>
				</ul></li>
			<li>Clear Frames:  Deletes all cells in each frame except locked cells.<ul>
					<li>     First Frame:  First frame in the sequence of frames to clear.</li>

					<li>     Last Frame:  Last frame in the sequence of frames to clear.</li>
				</ul></li>
			<li>Tweening:  Interpolates the cells between one frame and another frame
for a smoother animation.<ul>
					<li>     Starting Frame: Frame containing the starting positions of cells to interpolate.</li>
					<li>     Ending Frame: Frame containing the ending positions of cells to interpolate.</li>

					<li>     First Cel:  First cell in the sequence of cells to interpolate.</li>
					<li>     Last Cel:  Last cell in the sequence of cells to interpolate.</li>
					<li>     Pattern:  If checked, the pattern of each cell will be interpolated.</li>
					<li>     Position/Zoom/Angle:  If checked, the position of each cell will be interpolated.</li>
					<li>     Opacity/Blending:  If checked, the transparency of each cell will be interpolated.</li>

				</ul></li>
			<li>Cell Batch:  Modifies multiple cells at once.<ul>
					<li>     First Frame:  First frame in the sequence of frames to modify.</li>
					<li>     Last Frame:  Last frame in the sequence of frames to modify.</li>
					<li>     First Cel:  First cell in the sequence of cells to modify within the specified frames.</li>

					<li>     Last Cel:  Last cell in the sequence of cells to modify within the specified frames.</li>
					<li>     Click the checkboxes on the right side to specify which parameters to modify
     on the selected cells.</li>
				</ul></li>
			<li>Entire Slide:  Shifts the position of all cells in one or more frames.<ul>
					<li>     First Frame:  First frame in the sequence of frames to shift.</li>

					<li>     Last Frame:  Last frame in the sequence of frames to shift.</li>
					<li>     X-Axis Movement:  A negative value means shift left, a positive value
        means shift right.</li>
					<li>     Y-Axis Movement:  A negative value means shift up, a positive value
        means shift down.</li>
				</ul></li>
			<li>Sounds:  Set the sounds to play for this animation.
     In this screen, choose a sound to modify its filename, volume, and pitch,
     or choose "Add New Sound" to add a new one. To change the sound's frame,
     select a frame and click "Set Frame".  Finally, to delete a sound, select it and
     choose "Delete Sound Effect".</li>

			<li>Play:  Plays this animation.</li>
			<li>Help:  View help.</li>
		</ul>
		<p>The animation palette is located just above the name window.  Click the 
left and right arrows to scroll the palette, and click on an object in the
palette to select it.  Clicking on the canvas will then place the object on it
as a cell.</p>
		<p>To select a cell, simply click on it.  Holding Alt will enable finer selection of 
cels on the screen.  If a frame is selected, the following actions are available:</p>
		<ul>
			<li>L:  Lock or unlock a cell.  Locking a cell prevents it from being moved
 or deleted. </li>

			<li>Delete:  Delete</li>
			<li>E:  Rotate left.</li>
			<li>R:  Rotate right.</li>
			<li>P:  Open properties screen.</li>
			<li>Right click:  Open menu.</li>
			<li>Arrow keys:  Move cell 8 pixels (hold Alt for 2 pixels).</li>

			<li>+ (numeric pad):  Zoom in</li>
			<li>- (numeric pad):  Zoom out</li>
		</ul>
		<h3 id='battleanimations'>Battle Animations</h3>
		<p>There are several rules to keep in mind when making battle animations in RPG Maker&#x2122; XP.</p>
		<ul>
			<li>Battle animations for moves must be named Move:XXX, where XXX is the internal
name of the move as defined in PBS/moves.txt.  For instance, the animation for
Fire Punch will be named Move:FIREPUNCH.</li>

			<li>When creating animations that involve an attacker and an opponent, the
point at (-160,80) is considered to be the attacker, and the point at (160,-80)
is considered to be the opponent. The animation must have a "position" of "Screen."
As a guide, you can use the file battlers.png (under "[ED] Battler..."). (Moves that the user uses on itself, as well as common
animations [see below], should not use this technique.)</li>
			<li>The next time you run the game from RPG Maker&#x2122; XP, the game will convert any animations
here to a different format so that they will display properly in the battle system.</li>
			<li>Certain animations are commonly used and have special names for them:<ul>
					<li>Common:Shiny - When a shiny (different-colored) Pok&eacute;mon enters battle.</li>
<li>Common:Shadow - When a shadow Pok&eacute;mon enters battle.</li>
					<li>Common:StatUp - When something raises a Pok&eacute;mon's stat.</li>

					<li>Common:StatDown - When something lowers a Pok&eacute;mon's stat.</li>
					<li>Common:Frozen - When a Pok&eacute;mon is frozen.</li>
					<li>Common:Burn - When a Pok&eacute;mon is burned.</li>
					<li>Common:Sleep - When a Pok&eacute;mon is asleep.</li>
					<li>Common:Paralysis - When a Pok&eacute;mon is paralyzed.</li>

					<li>Common:Confusion - When a Pok&eacute;mon is confused.</li>
					<li>Common:Poison - When a Pok&eacute;mon is poisoned.</li>
				</ul></li>
		</ul>
		<h2 id='gamescreens'>Game Screens</h2>
		<h3 id='titlescreen'>Title Screen</h3>
		<p>The game's title screen can be changed by replacing the files Pic_1.png , Pic_2.png , and Start.png . 
Each of these files is found in the directory Graphics/Titles.  The files can be animated GIF files (with the same filename and extension).</p>

		<p>Essentially, though, the title screen just calls the game-loading screen. Here's an example of a very simple title scene:</p>
		<pre>
 class Scene_Xxxx
   def main
     # Prepare scene
     Graphics.transition
     while $scene != self
        Graphics.update
        Input.update
        update
     end     
     Graphics.freeze
     # Dispose sprites
   end
   def update
     if Input.trigger?(Input::C)
       # Close scene here
       sscene=PokemonLoadScene.new
       sscreen=PokemonLoad.new(sscene)
       sscreen.pbStartLoadScreen # Will change scene if appropriate
     end
   end
 end
</pre>
		<p>The title's music can be changed with the "Title BGM" setting in the System tab of the database.</p>
		<h3 id='introscreen'>Intro Screen</h3>
		<p>The introduction screen when the game starts is found in the map titled Intro. This map should be where the starting position is placed. It also contains an event with an autorun trigger. The event may appear long, but that's only because it's a representative appearance of the intro screen only. The most basic introduction event looks like the following:</p>

		<pre>
@&gt;<span style='color:rgb(0,128,0)'>Comment: Initializes the player character.</span>
@&gt;<span style='color:rgb(128,128,128)'>Script: pbChangePlayer(0)</span>
@&gt;<span style='color:rgb(0,128,0)'>Comment: opens the name entry screen and initializes the </span>
 : <span style='color:rgb(0,128,0)'>        : Trainer object</span>
@&gt;<span style='color:rgb(128,128,128)'>Script: pbTrainerName</span>

@&gt;<span style='color:rgb(0,128,0)'>Comment: Displays the player's name</span>
@&gt;<span style='color:rgb(0,0,0)'>Text: Hello, \PN.</span>
@&gt;<span style='color:rgb(0,128,0)'>Comment: Stops autorun event</span>
@&gt;<span style='color:rgb(255,0,0)'>Control Self Switch: A =ON</span>
@&gt;<span style='color:rgb(0,128,0)'>Comment: Transfers player to start position</span>
@&gt;<span style='color:rgb(128,0,0)'>Transfer Player:[011: Test Map], (009, 009), Down</span>

@&gt;
</pre>
		<p>Of course, it can be expanded to include multiple player characters and to show the character on screen:</p>
		<pre>
@&gt;<span style='color:rgb(0,0,0)'>Text: Are you a boy or a girl?</span>
@&gt;<span style='color:rgb(0,0,0)'>Show Choices: BOY, GIRL</span>
 : <span style='color:rgb(0,0,0)'>When [BOY]</span>

  @&gt;<span style='color:rgb(0,128,0)'>Comment: initializes player 0 (PlayerA)</span>
  @&gt;<span style='color:rgb(128,128,128)'>Script: pbChangePlayer(0)</span>
  @&gt;
 : <span style='color:rgb(0,0,0)'>When [GIRL]</span>
  @&gt;<span style='color:rgb(0,128,0)'>Comment: initializes player 1 (PlayerB)</span>

  @&gt;<span style='color:rgb(128,128,128)'>Script: pbChangePlayer(1)</span>
  @&gt;
 : <span style='color:rgb(0,0,0)'>Branch End</span>
@&gt;<span style='color:rgb(0,128,0)'>Comment: Shows the character's picture</span>
@&gt;<span style='color:rgb(128,128,128)'>Script: pbShowPicture(2,pbGetPlayerGraphic,</span>

 : <span style='color:rgb(128,128,128)'>     : 1,230,160)</span>
@&gt;<span style='color:rgb(0,0,0)'>Text: Choose a name.</span>
@&gt;<span style='color:rgb(0,128,0)'>Comment: opens the name entry screen and initializes the </span>
 : <span style='color:rgb(0,128,0)'>        : Trainer object</span>
@&gt;<span style='color:rgb(128,128,128)'>Script: pbTrainerName</span>

@&gt;<span style='color:rgb(0,128,0)'>Comment: Displays the player's name</span>
@&gt;<span style='color:rgb(0,0,0)'>Text: Hello, \PN.</span>
@&gt;<span style='color:rgb(0,128,0)'>Comment: erases the character's picture</span>
@&gt;<span style='color:rgb(128,0,128)'>Erase Picture: 2</span>
@&gt;<span style='color:rgb(0,128,0)'>Comment: Stops autorun event</span>
@&gt;<span style='color:rgb(255,0,0)'>Control Self Switch: A =ON</span>

@&gt;<span style='color:rgb(0,128,0)'>Comment: Transfers player to start position</span>
@&gt;<span style='color:rgb(128,0,0)'>Transfer Player:[011: Test Map], (009, 009), Down</span>
@&gt;
</pre>
<p>On the other hand, the event could look like this:</p>
		<pre>
@&gt;<span style='color:rgb(0,128,0)'>Comment: Initializes the player character.</span>
@&gt;<span style='color:rgb(128,128,128)'>Script: pbTrainerName("ASH")</span>
@&gt;<span style='color:rgb(0,128,0)'>Comment: Stops autorun event</span>
@&gt;<span style='color:rgb(255,0,0)'>Control Self Switch: A =ON</span>
@&gt;<span style='color:rgb(0,128,0)'>Comment: Transfers player to start position</span>
@&gt;<span style='color:rgb(128,0,0)'>Transfer Player:[011: Test Map], (009, 009), Down</span>
@&gt;
</pre>
<p>Use the script <code>pbTrainerName("<var>name</var>")</code>, where <var>name</var>
is any name, to initialize the player Trainer with a particular name rather than a player-defined name.</p>
		<p>In the Pok&eacute;mon Essentials editor, under "GLOBAL" within "Set Metadata", you can enter 
data for each player character in the settings PlayerA, PlayerB, and so on.</p>
	<p>To change the player in script, use pbChangePlayer(X) where X is one of 0, 1, 2, or 3 and refers to players A, B, C, or D. The PlayerA setting is required while the other three settings are optional.</p>
		<h2 id='resourcespecifications'>Resource Specifications</h2>

		<p>A good program for graphics editing is <a href='/web/20120302172735/http://getpaint.net/'>Paint.NET</a>.
A good program for audio recording is <a href='/web/20120302172735/http://google.com/search?q=audacity+audio+program'>Audacity</a>.
Both programs are open-source and available free of charge.</p>
<p>All image resources in this section can be <a href='#animatedimages'>animated images</a>
and can have a file extension other than ".png".</p>
		<h3 id='pokemongraphicsandicons'>Pok&eacute;mon Graphics and Icons</h3>
		<p>There should be five different image files for each Pok&eacute;mon (XXX is the Pok&eacute;mon's number):</p>
		<ul>

			<li><b>Graphics/Battlers/XXX.png</b> - Front of the Pok&eacute;mon. Measures at least 128x128 pixels.</li>
			<li><b>Graphics/Battlers/XXXs.png</b> - Shiny (different-colored) front of the Pok&eacute;mon. Measures at least 128x128 pixels.</li>
			<li><b>Graphics/Battlers/XXXb.png</b> - Back of the Pok&eacute;mon. Measures at least 128x128 pixels.</li>

			<li><b>Graphics/Battlers/XXXsb.png</b> - Shiny (different-colored) back of the Pok&eacute;mon. Measures at least 128x128 pixels.</li>
			<li><b>Graphics/Icons/iconXXX.png</b> - Icon of the Pok&eacute;mon. This is a two-frame animation measuring 128x64 pixels. Each of its frames has a size of 64x64 pixels.</li>
		</ul>
		<p>Putting the letter 'f' after the number represents the female version of the sprite. Example: <b>Graphics/Battlers/235fs.png</b>.
Putting the symbol '_' followed by a number represents an <a href="#alternateforms">alternate form</a> of the
same species. Example: <b>Graphics/Battlers/201b_4.png</b></p>
		<h4 id='placementofsprites'>Placement of Sprites</h4>

		<p>To ensure optimal placement of Pok&eacute;mon sprites in battle, you should open the Pok&eacute;mon Essentials editor (editor.exe) and select "Reposition Sprites" from the menu.</p>
		</ul>
		<h4 id='alternateforms'>Alternate Forms</h4>
		<p>For Pok&eacute;mon named SPINDA, extra spots are added to the graphic depending on the Pokemon.</p>
		<p>Many other well-known species have alternate forms as well. Such forms are implemented in the script section PokemonMultipleForms. The numbers for these forms are shown below:</p>
<ul>
<li>UNOWN: 0-25 = A through Z; 26 = !; 27 = ?.</li>
<li>SHELLOS, GASTRODON: Can be 0 through 1. If the Pokemon was created in a map given in the array of map IDs in the script section PokemonMultipleForms, the Pokemon's form is 1; otherwise 0.</li>
<li>DEOXYS: 0 = Normal Forme; 1 = Attack Forme; 2 = Defense Forme;
3 = Speed Forme.</li>
<li>BURMY, WORMADAM: 0 = Plant Cloak; 1 = Sandy Cloak, 2 = Trash Cloak.</li>
<li>ROTOM: 0 = Normal; 1 = Heat Rotom; 2 = Wash Rotom; 3 = Frost Rotom;
4 = Fan Rotom; 5 = Mow Rotom.</li>
<li>GIRATINA: 0 = Altered Forme; 1 = Origin Forme.</li>
<li>SHAYMIN: 0 = Land Forme; 1 = Sky Forme.</li>
<li>ARCEUS: 0 = Normal Forme; 1 = Fighting; 2 = Flying, 3 = Poison,
4 = Ground, 5 = Rock, 6 = Bug, 7 = Ghost, 8 = Steel, 10 = Fire,
11 = Water, 12 = Grass, 13 = Electric, 14 = Psychic,
15 = Ice, 16 = Dragon, 17 = Dark.</li>
</ul>
	<p>For some species, the form changes automatically. For others, the
form changes only in response to an event. To change a Pokemon's form manually,
use a script like the following:</p>
<pre>
pokemon.form = <i>form_number</i>
</pre>
<p>where <i>form_number</i> is the number for the alternate form.
Of the species shown above, only Deoxys, Shaymin, and Rotom must have
their form changed manually.</p>
		<h3 id='itemicons'>Item Icons</h3>
		<p>Each item's icon has a filename of <b>Graphics/Icons/itemXXX.png</b> where XXX is the item's ID.  Measures 48x48 pixels.</p>

		<h3 id='mailpreview'>Mail Preview</h3>
		<p>Each mail has a filename of <b>Graphics/Pictures/itemXXX.png</b> where XXX is the item's ID.  Measures 320x240 pixels.</p>
		<h3 id='pokemoncries'>Pok&eacute;mon Cries</h3>
		<p>The cry of each Pok&eacute;mon has a filename of <b>Audio/SE/XXXCry.wav</b> where XXX is the Pok&eacute;mon's ID.</p>

		<h3 id='battlebackgrounds'>Battle Backgrounds</h3>
		<p>
Each battle background has three parts: the background, a base for the player's Pokemon,
and a base for the enemy Pok&eacute;mon.  These files are given below (XXX stands for an arbitrary identifier):</p>
		<ul>
			<li><b>Graphics/Pictures/battlebgXXX.png</b> - Any size.</li>
			<li><b>Graphics/Pictures/playerbaseXXX.png</b> - Measures 256x32 pixels and has the appearance of a semi-ellipse.</li>

			<li><b>Graphics/Pictures/enemybaseXXX.png</b> - Measures 256x64 pixels and has the appearance of an ellipse.</li>
		</ul>
<p>All three parts of the battle background can be <a href='#animatedpanoramasandfogs'>animated image files</a>, including animated GIF files (with
a PNG extension).</p>
		<p>To change the battle background for the next battle, use the script:</p>
		<pre>
$PokemonGlobal.nextBattleBack="XXX"
</pre>
		<p>where XXX is an arbitrary identifier.  Here's an example.  Suppose you have created the following
three files as a custom battle background:</p>

		<ul>
			<li><b>Graphics/Pictures/battlebgDarkness.png</b></li>
			<li><b>Graphics/Pictures/playerbaseDarkness.png</b></li>
			<li><b>Graphics/Pictures/enemybaseDarkness.png</b></li>
		</ul>
		<p>Note that all three files end in the word "Darkness".  To access this background in a script,
you would use the following Script event command:</p>
		<pre>

$PokemonGlobal.nextBattleBack="Darkness"
</pre>
<p>The script code above should be placed only immediately before an event command that would run the wild Pokemon battle or Trainer battle; using an autorun or parallel process event is not recommended for this purpose, as the effect will linger even if the player leaves the map. To set the battle background for an entire map, open the Pokemon Essentials editor (editor.exe) and set the "BattleBack" setting in the map's metadata (using the Set Metadata option).</p>	
		<h3 id='trainergraphics'>Trainer Graphics</h3>
		<p>
Each trainer type's graphic has a filename of <b>Graphics/Characters/trainerXXX.png</b>, where XXX is the ID of that trainer type.  Measures 128x128 pixels, perhaps also larger.  Trainers that appear in the Battle Tower should also have a RPGXP character image file named <b>Graphics/Characters/trcharXXX.png</b>, where XXX is the ID of that trainer type.</p>

		<h3 id='trainerback'>Trainer Back</h3>
		<p>To define the back of a Trainer, for use in battles, 
create a graphic file with a size of 128x128 and the file must be located in Graphics/Pictures.
This graphic file is not specific to a player but rather to a trainer type.  The Trainer back
has a filename of <b>trbackXXX.png</b> where XXX is the trainer type's ID.  Alternatively, the file
can have a size of 512x128, where each 128x128 block is a single frame of a 4-frame animation.
See the example at <b>Graphics/Pictures/trback000.png</b>.
</p>
		<h3 id='fishinganimation'>Fishing Animation</h3>
		<p>The fishing animation is a five-frame animation.  It resembles the 16-frame character
sprites, but only the first five frames are used.  Its filename must be
<b>Graphics/Characters/fishingXXX.png</b>, where XXX is a trainer type's ID.  Example:
fishing000.png.  See below for the layout of the frames.</p>

		<pre>
Frame1   Frame2   Frame3   Frame4

Frame5   ------   ------   ------

------   ------   ------   ------

------   ------   ------   ------
</pre>
		<h3 id='badgeimage'>Badge Image</h3>
		<p>The image for all Badges is located at <b>Graphics/Pictures/badges.png</b>.   This image
is 256 pixels in width and contains X rows of eight badges, where X is the number of regions in the game.  Each badge is 32x32 pixels in size. For example, if the game has two regions, the image's height
would be 64 pixels (2 * 32); the first row would have badges for the first region (region 0) and
the second row would have badges for the second region (region 1).  See <a href='#badges'>Badges</a> for more information.</p>
		<h3 id='trainercard'>Trainer Card</h3>

		<p>The Trainer Card's image is found in 
<b>Graphics/Pictures/trcard.png</b>, and the background is found in 
<b>Graphics/Pictures/trcardbg.png</b>.  Measures 320x240 pixels.</p>
		<h3 id='border'>Border</h3>
		<p>The border used in some screen size modes is found in 
<b>Graphics/Pictures/border.png</b>. Measures 640x480 pixels.</p>
		<h3 id='backgrounds'>Backgrounds</h3>

		<p>The various screens use the following backgrounds (measuring 320x240 pixels or smaller):</p>
		<ul>
			<li>Pok&eacute;mon screen - <b>Graphics/Pictures/pokeselbg.png</b></li>
			<li>Pokedex screen - <b>Graphics/Pictures/pokedexbg.png</b></li>
			<li>Phone screen - <b>Graphics/Pictures/phonebg.png</b></li>

			<li>Name entry screen - <b>Graphics/Pictures/entrybg.png</b></li>
			<li>Evolution screen - <b>Graphics/Pictures/evobg.png</b></li>
			<li>Trading progress screen - <b>Graphics/Pictures/tradebg.png</b></li>
			<li>Game loading screen - <b>Graphics/Pictures/loadbg.png</b></li>
			<li>Log In screen - <b>Graphics/Pictures/loginbg.png</b></li>

			<li>Register screen - <b>Graphics/Pictures/registerbg.png</b></li>
		</ul>
		<p>The backgrounds can have any size, and they can be <a href='#animatedpanoramasandfogs'>animated image files</a>, including animated GIF files (even with an extension of 'gif').</p>
		<h3 id='pokemontypesimage'>Pok&eacute;mon Types Image</h3>
		<p>Images for all Pok&eacute;mon types is found in <b>Graphics/Pictures/types.png</b>.  The types are arranged by ID number, as defined in the file <a href='#pbstypestxt'>PBS/types.txt</a>.

</p>
		<h3 id='titles'>Titles</h3>
		<p>You can change the game's title screen by replacing the files Pic_1.png , Pic_2.png , and Start.png . Each of these files is found in the directory <b>Graphics/Titles</b>.</p>
		<h3 id='windowskins'>Windowskins</h3>
<p>Pok&eacute;mon Essentials supports windowskins in RPG Maker&#x2122; XP (RGSS)
and RPG Maker&#x2122; VX (RGSS2) format.</p>

		<p>Pok&eacute;mon Essentials also supports a new window skin format that allows different-sized window borders and different placement of text than usual. It involves a PNG file and a text file. The PNG file shows the look of a window at its minimum possible size. The corners and sides of the image will be adjusted to match the size of the window. An optional TXT file with the same name describes the sizes of the sides, corners, and borders. If the file is not given, it is assumed that the center 16x16 square is the center of the window and the window's sides and corners make up the rest of the image.</p>
<h4 id='rgss2windowskinformat'>RGSS2 Windowskin Format</h4>
<p>Windowskins in RPG Maker&#x2122; VX are similar to those in RPG Maker&#x2122; XP. However,
these windowskins have a different format, which is explained below. For an example,
look at the file Window.png in the Graphics/Windowskins/ folder.</p>
<ul>
<li>A windowskin file is 128x128 pixels in size.</li>
<li>The top left part of the skin (64x64) is the background, drawn on the window.</li>
<li>The bottom left part of the skin (64x64) is a pattern which is drawn tiled on top of the window background.</li>
<li>The top right part of the skin (64x64) consists of the window's borders and scroll arrows.
In Pokemon Essentials, however, scroll arrows are not shown.</li>
<li>The bottom right part of the skin (64x64) is itself divided into three parts. The top left (32x32) consists
of the cursor, a rectangle which is placed over the currently selected command. The top right (32x32)
is the pause arrow, an animation of four 16x16 frames. Pokemon Essentials doesn't show
the cursor or pause arrows. The bottom (64x32) consists of the colors used when drawing text
on the window.</li>
</ul>
<h2 id='events'>Events</h2>

		<p>Pok&eacute;mon Essentials comes with many predefined events for your use. Pok&eacute;mon Essentials also contains many
new ways to define special kinds of events that otherwise would take longer to achieve.  This section will discuss the game's <a href='#predefinedevents'>predefined events</a>, the 
<a href='#switchesandvariables'>switches and variables</a> used in the game, and details on
implementing <a href='#timesensitiveevents'>Time-Sensitive Events</a>.  The rest of the section discusses <a href='#eventcommands'>Event Commands</a> 
and a way to <a href='#savingthegame'>save the game</a> via an event.</p>

		<h3 id='predefinedevents'>Predefined Events</h3>
		<p>The following are definitions of events used in Pok&eacute;mon games.  These events include
<a href='#trees'>trees</a>, <a href='#boulders'>boulders</a>, <a href='#headbutttrees'>Headbutt trees</a>, <a href='#crackedrocks'>cracked rocks</a>,
and <a href='#doors'>doors</a>.  Other common kinds of events are <a href='#itemevents'>items</a> and <a href='#trainers'>Trainers</a>.</p>

		<h4 id='trees'>Trees</h4>
		<p>Events that can be cut using the hidden move Cut are named Tree, have an Action 
Button trigger, and have the following structure:</p>
		<pre>
Conditional Branch:  Script:  Kernel.pbCut
 Script: pbEraseThisEvent
Branch End
</pre>
		<p>An animation for the tree being cut is possible by modifying the event just before "Script: pbEraseThisEvent".</p>
		<h4 id='boulders'>Boulders</h4>
		<p>Events that can be pushed using Strength are named Boulder, have a Player Touch Trigger, and consist of the single event command "Script: pbPushThisBoulder".</p>

		<h4 id='headbutttrees'>Headbutt Trees</h4>
		<p>Trees that a Pok&eacute;mon can use Headbutt on are named HeadbuttTree, have an Action Button Trigger, and consist of the single event command "Script: pbHeadbutt".</p>
		<h4 id='crackedrocks'>Cracked Rocks</h4>
		<p>Rocks that can be smashed are named Rock, have an Action Button trigger, and have the following structure.</p>
		<pre>
Conditional Branch:  Script:  Kernel.pbRockSmash
 Script: pbEraseThisEvent
 Script: pbRockSmashRandomEncounter
Branch End
</pre>

		<h4 id='doors'>Doors</h4>
		<p>Doors have two event pages, with the following structure:</p>
		<h5 id='eventpage1'>Event Page 1</h5>
		<p>No conditions, Player Touch trigger</p>
		<p>The graphic should be of a closed door.</p>
		<pre>@&gt;<span style='color:rgb(128,0,0)'>Set Move Route: This event (Ignore If Can't Move)</span>

 : <span style='color:rgb(128,0,0)'>             : $&gt;SE: 'Entering Door', 80, 100</span>
 : <span style='color:rgb(128,0,0)'>             : $&gt;Wait: 2 frame(s)</span>
 : <span style='color:rgb(128,0,0)'>             : $&gt;Turn Right</span>

 : <span style='color:rgb(128,0,0)'>             : $&gt;Wait: 2 frame(s)</span>
 : <span style='color:rgb(128,0,0)'>             : $&gt;Turn Up</span>
 : <span style='color:rgb(128,0,0)'>             : $&gt;Wait: 2 frame(s)</span>

 : <span style='color:rgb(128,0,0)'>             : $&gt;Turn Left</span>
 : <span style='color:rgb(128,0,0)'>             : $&gt;Wait: 2 frame(s)</span>
@&gt;<span style='color:rgb(0,0,0)'>Wait for Move's Completion</span>
@&gt;<span style='color:rgb(128,0,0)'>Set Move Route: Player (Ignore If Can't Move)</span>

 : <span style='color:rgb(128,0,0)'>             : $&gt;Through ON</span>
 : <span style='color:rgb(128,0,0)'>             : $&gt;Move Up</span>
 : <span style='color:rgb(128,0,0)'>             : $&gt;Through OFF</span>

@&gt;<span style='color:rgb(0,0,0)'>Wait for Move's Completion</span>
			<strong>@&gt;<span style='color:rgb(128,128,0)'>Change Screen Color Tone: (-255,-255,-255,0), @6</span>
@&gt;<span style='color:rgb(0,0,0)'>Wait: 6 frame(s)</span>
@&gt;<span style='color:rgb(128,0,0)'>Transfer Player:[001: Pok&eacute;mon Center], (004, 007), Up, No Fade</span>
@&gt;<span style='color:rgb(128,128,0)'>Change Screen Color Tone: (0,0,0,0), @6</span></strong>

@&gt;
		</pre>
		<p>The emphasized event commands are also useful for normal player transfers that don't involve doors.</p>
		<h5 id='eventpage2'>Event Page 2</h5>
		<p>Condition 'Switch <b>s:tsOff?("A")</b> is ON', Autorun trigger</p>
		<p>The graphic should be of a closed door.</p>

		<pre>
Conditional Branch:  Script:  get_character(0).onEvent?
  Set Move Route: This event (Ignore If Can't Move)
  :             : $&gt;Turn Left
  Set Move Route: Player (Ignore If Can't Move)
  :             : $&gt;Move Down
  Wait for Move's Completion
  Set Move Route: This event (Ignore If Can't Move)
  :             : $&gt;Wait: 2 frame(s)
  :             : $&gt;Turn Up
  :             : $&gt;Wait: 2 frame(s)
  :             : $&gt;Turn Right
  :             : $&gt;Wait: 2 frame(s)
  :             : $&gt;Turn Down
  :             : $&gt;Wait: 2 frame(s)
  Wait for Move's Completion
Branch End
Script: setTempSwitchOn("A")
</pre>
		<p>This event page checks whether a player is on the door, and if so, moves the player one space down and closes the door. This means that anything that makes the player leave should move the player
at the door and not next to it.</p>
		<p>The door character image file should be arranged like this: The first row shows a closed door, the second row an open door, the third row a partially closed door, and the fourth row a partially open door.</p>

		<h3 id='cutscenes'>Cut Scenes</h3>
		<p>With Pok&eacute;mon Essentials, the player can skip or cancel certain events
designated as "cut scenes" by pressing F5.  In this way, the player can skip the dialogue and advance the story.</p>
		<p>To make an event a cut scene, add to the event a Comment event command
consisting of the text "Cut Scene".  When the player presses F5, the event's
self switch A will be set to ON.  Therefore, the event should have another
event page with the Autorun trigger and the condition "Self Switch A is ON".
The event page should have the effect of canceling the effect of the cut
scene. For example, the event could move the player directly to the 
next destination.</p>
<h3 id='triggers'>Triggers</h3>
<p>Normally, pressing the Action button (the C key) next to an event
with a Player Touch trigger will trigger the event. This isn't the case in Pokemon
Essentials; the behavior is disabled in order to allow such events, such as boulders,
 to work more intuitively.</p>
		<h3 id='switchesandvariables'>Switches and Variables</h3>
<h4 id='debuggingswitchesandvariables'>Debugging Switches and Variables</h4>
<p>In <a href='#debugging'>debug mode</a>, you can set switches and
variables during a running game by selecting <kbd>Debug</kbd> from
the main menu and selecting <kbd>Switches</kbd> or <kbd>Variables</kbd>.</p>
		<h4 id='scriptbasedswitches'>Script-Based Switches</h4>
		<p>The event system in Pok&eacute;mon Essentials supports script-based switches, where an arbitrary script is evaluated. If the condition on the switch's name holds true, the switch is on. Script-based switches are distinguished from regular switches using the prefix "s:". Due to the size limit on a switch's name, however, you may have to use this kind of switch to call other methods that return a true or false value. Methods on script-based switches are called within the context of the Game_Event class.</p>
		<h4 id='temporaryselfswitches'>Temporary Self-Switches</h4>
		<p>Each event in the game comes with a set of temporary self switches. This set is cleared whenever a map is entered. To check whether a temporary self switch is on, use a switch named "s:tsOn?(X)" where X is one of "A", "B", "C", or "D". To check whether it's off, use a switch named <b>s:tsOff?(X)</b>. To turn a temporary self switch on or off, use a Script event command like the following:</p>
		<pre>setTempSwitchOn("A")
</pre>
		<p>or:</p>
		<pre>

setTempSwitchOff("A")
</pre>
		<p>Temporary self switches are currently used in doors. They also have other uses where stand-alone stateful events are desired.</p>
		<h4 id='reservedvariables'>Reserved Variables</h4>
		<p>Variables 1 through 25 are reserved for internal use by the game system. The values they hold generally never live longer than the event that uses them.</p>
		<h4 id='eventspecificvariables'>Event-Specific Variables</h4>

		<p>Each event in the game comes with its own Ruby variable. To retrieve a variable within an event, call the script function "getVariable". To set the value of the current event's variable, call the script function "setVariable(X)", where X is the value to set to the variable. To check the variable's value in an event page's condition, use the event function "variable" to help you. For example, to check whether the event's variable is equal to 1, you would use a switch named: "s:variable==1".</p>

<h4 id='timesensitivevariables'>Time-Sensitive Variables</h4>
<p>The following functions allow you to implement situations that are valid only for a limited time
after they are announced. These situations can include special discounts or an unusual frequency of a rare Pokemon in a certain area. They work by setting an RPG Maker&#x2122; XP variable to the current
time, then later comparing it against the current time to determine whether it has expired.</p>
<ul>
<li><code>pbTimeEvent(<var>variableNumber</var>, <var>ageInSeconds</var>=86400)</code> - Sets the variable numbered <var>variableNumber</var> to the current time. <var>ageInSeconds</var>
represents the number of seconds until the variable expires. Default age is 86400 seconds (24 hours).</li>
<li><code>pbTimeEventDays(<var>variableNumber</var>, <var>ageInDays</var>=1)</code> - Sets the variable numbered <var>variableNumber</var> to the current time. <var>ageInDays</var>
represents the number of days until the variable expires. The event will expire at midnight.</li>
<li><code>pbIsTimeValid(<var>variableNumber</var>)</code> - Compares the variable numbered <var>variableNumber</var> to the current time. Returns true if the time event hasn't expired yet. If the time event has expired, clears the variable's value.</li>
</ul>

<p>Suppose you're making a character that calls the player at some point. This character asks that
player to meet him or her by a certain time, say, in two hours.  The character's event 
could look like this:</p>

<pre>
Text: \PN! Meet me at ROUTE 158 in two hours.
Text: OK, see you.
Comment: Expires in 2 hours (7200 seconds)
Script: <b>pbTimeEvent(55,7200)</b>
</pre>

<p>Note the script uses variable 55 to store the current time. You could then place the character in a certain spot and set a script-based switch. That switch would check whether it's still two hours since the event occurred. The event could look like this:</p>

<p>Condition "Switch '<b>s:pbIsTimeValid(55)</b>' is ON", Action Button trigger</p>

<pre>
Text: Hey, \PN. You're just in time.
Text: Have I got a surprise for you.
</pre>

		<h3 id='timesensitiveevents'>Time-Sensitive Events</h3>
		<p>Thanks to temporary self-switches and event-specific variables, it is 
possible to implement events that are active only once each day (or once within a specific time period). Here's the basic 
structure of such events:</p>
		<h4 id='eventpage1_0'>Event Page 1</h4>
		<p>No conditions, any trigger</p>
		<pre>

-- Do something here
Script:  pbSetEventTime      
</pre>
		<p>The script pbSetEventTime 
sets the event's self switch A to ON and sets the event's variable to the current time, so that later the game can check whether the event "expires" and returns to normal. <var>pbSetEventTime</var> can also set other events' variables to the current time. For example, pbSetEventTime(2) sets this event and the event numbered 2 on this map.</p>
		<h4 id='eventpage2_0'>Event Page 2</h4>
		<p>Condition "Self Switch A is ON", any trigger</p>
		<pre>
-- Do something here
</pre>
		<p>The game uses this event page while the event is "inactive". For example, in the case of a tree that grows berries every day, there could be a message here that the tree is empty.</p>
		<h4 id='eventpage3'>Event Page 3</h4>
		<p>Condition "Self Switch A is ON", Condition 'Switch <b>s:expired?&amp;&amp;tsOff?("A")</b> is ON', 
Autorun trigger</p>
		<pre>
Control Self Switch: A =OFF
Script:  setTempSwitchOn("A")
</pre>
		<p>This event page checks whether the event has expired and becomes active again. By default, the event will expire in 24 hours.
However, you can make it expire earlier or later by renaming the switch.
For example, to make the event expire in one hour (3600 seconds,
use a switch with the following name:</p>
<pre>
s:expired?(3600)&amp;&amp;tsOff?("A")
</pre>
		<p>And this example makes the event expire in 2 days, where a "day" begins at midnight:</p>
<pre>
s:expiredDays?(2)&amp;&amp;tsOff?("A")
</pre>
		<h3 id='counterevents'>Counter Events</h3>
		<p>A <dfn>counter event</dfn> triggers when the player is a number of spaces away from it, even if they can't meet.</p>
		<p>A counter event is named <var>Counter(X)</var>, where X is the maximum distance for the event to trigger. A counter event also has the Event Touch trigger.</p>
		<h3 id='sidestairs'>Side Stairs</h3>
		<p>Side stairs, or stairs on the side of a cliff, were introduced in Pok&eacute;mon Diamond and Pearl.
To make such an event, consider the following diagram.</p>
		<pre>

......||------
......||------
......|A------
......BA------
......B|------
......||------
</pre>
		<p>
In this diagram,"." represents flat ground; "-" represents rocky ground; and "|" represents cliffs. The letters A and B represent side stair events. Use the following event for the A events.
</p>
		<ul>
			<li>Trigger: Player Touch</li>
			<li>Condition: None</li>
		</ul><pre>
@&gt;Set Move Route: Player
 :              : $&gt;Move Lower Left
 :              : $&gt;Move Left

</pre>
		<p>
And use the following event for the B events.
</p>
		<ul>
			<li>Trigger: Player Touch</li>
			<li>Condition: None</li>
		</ul><pre>
@&gt;Set Move Route: Player
 :              : $&gt;Move Upper Right
 :              : $&gt;Move Right

</pre>
		<h4 id='onetiledeepsidestairs'>One-Tile-Deep Side Stairs</h4>
		<p>Example:</p>
		<pre>
......|------
......|------
......A------
......A------
......|------
......|------
</pre>
		<p>Use the following event for the tiles labeled A.</p>
		<pre>
@&gt;Conditional Branch: Player is facing Left
  @&gt; Set Move Route: Player
    :              : $&gt;Move Lower Left
  @&gt;

 : Else
  @&gt; Set Move Route: Player
    :              : $&gt;Move Upper Right
  @&gt;
</pre>
		<h4 id='sidestairsmorethantwotilesdeep'>Side Stairs More than Two Tiles Deep</h4>
		<p>Example:</p>
		<pre>
......||A----
......||A----
......A|A----
......A||----
......A||----
......|||----
</pre>

		<p>Use the following event for the tiles labeled A.</p>
		<pre>
@&gt;Conditional Branch: Player is facing Left
  @&gt; Set Move Route: Player
    :              : $&gt;Through ON
    :              : $&gt;Move Lower Left
    :              : $&gt;Move Lower Left  -- Repeat this command depending on depth of side stairs
    :              : $&gt;Move Left
    :              : $&gt;Through OFF
  @&gt;
 : Else
  @&gt; Set Move Route: Player
    :              : $&gt;Through ON
    :              : $&gt;Move Upper Right
    :              : $&gt;Move Upper Right  -- Repeat this command depending on depth of side stairs
    :              : $&gt;Move Right
    :              : $&gt;Through OFF
  @&gt;

</pre>

<h3 id='roadblocks'>Road Blocks</h3>

<p>Road block events are designed to block the player's way. For example,
they may keep the player from going to a road that's under construction, 
or leaving a town without a Pok&eacute;mon. Road block events have two event pages.</p>

<h4 id='eventpage1_1'>Event Page 1</h4>
<ul>
<li>Trigger: Player Touch</li>
<li>Graphic: None</li>
</ul>
<pre>
@>Text: \PN: Wait! I can't leave without a Pok&eacute;mon!
@>Set Move Route: Player (Ignore If Can't Move)
                       : $>Turn 180
                       : $>1 Step Forward
@>Wait for Move's Completion
</pre>
<p>The move route command is important. It turns the player back from
the road.</p>
<h4 id='eventpage2_1'>Event Page 2</h4>
<p>The game uses this event page if a switch is on that disables the roadblock,
allowing the event to act like a normal tile. The switch can also be
a <a href='#scriptbasedswitches'>script-based switch</a>.</p>
<ul>
<li>Condition: Switch '<i>Any switch name</i>' is ON</li>
<li>Trigger: Any trigger</li>
<li>Graphic: None</li>
</ul>
<pre>No event commands</pre>
<h3 id='displays'>Displays</h3>
<p>Displays, such as works of art, the directory of a shopping center,
or a famous sculpture, are viewable only from the front.  
To enforce this behavior, use a conditional branch that checks which direction
the player is facing. If the display is directed forward, as is usually the case, the branch should
check whether the player is facing up, as in this example:</p>
<pre>
<b>@&gt;Conditional Branch: Player is facing Up</b>
  @&gt;Text:  This is a famous sculpture.
  @&gt;
 : Branch End
</pre>

		<h3 id='introductions'>Introductions</h3>
<p>If an event introduces itself, you should wrap the event
commands that introduce the event in a conditional
branch. The condition checks whether the event's <a href='#temporaryselfswitches'>temporary self
switch</a> is off. If so, the game shows the introduction, then, the
event sets its temporary self switch to on again.
The code below shows this technique.</p>
<pre>
<b>@&gt;Conditional Branch: Script: isTempSwitchOff?("A")</b>
  @&gt;Text:  Hello, I'm the move tutor.
  @&gt;Text:  Welcome to my place.
  @&gt;Comment: Stop showing the intro again
  <b>@&gt;Script: setTempSwitchOn("A")</b>
  @&gt;
 : Branch End
</pre>
<p>If the introduction should happen only once in the entire game, then you should use regular self
switches instead. This is more appropriate if the 
character is surprised for having met the player for the first
time in a long time:</p>
<pre>
<b>@&gt;Conditional Branch: Self Switch A == ON</b>
  @&gt;Text:  Hello, I'm the move tutor.
  @&gt;Text:  Welcome to my place.
  @&gt;Comment: Stop showing the intro again
  <b>@&gt;Control Self Switch:  A =ON</b>
  @&gt;
 : Branch End
</pre>
  
		<h3 id='randomprocessing'>Random Processing</h3>
		<p>Randomness allows for events that say a different thing every time the
player talks to it.  The technique uses the Control Variables event command to generate a random number,
and calls one of several conditional branches depending on the number generated.</p>
		<pre>
@&gt;Control Variables: [0001] = Random No. (0...3)
@&gt;Conditional Branch: Variable [0001] == 0
  @&gt;Text: Hello, this is text number 1.
  @&gt;
 : Branch End
@&gt;Conditional Branch: Variable [0001] == 1
  @&gt;Text: Hello, this is text number 2.
  @&gt;

 : Branch End
@&gt;Conditional Branch: Variable [0001] == 2
  @&gt;Text: Hello, this is text number 3.
  @&gt;
 : Branch End
@&gt;Conditional Branch: Variable [0001] == 3
  @&gt;Text: Hello, this is text number 4.
  @&gt;
 : Branch End
</pre>
		<h3 id='eventcommands'>Event Commands</h3>
		<p>The following event commands have no effect in Pok&eacute;mon Essentials:</p>

		<ul>
			<li>Change Items</li>
			<li>Change Weapons</li>
			<li>Change Armor</li>
			<li>Change Party Member</li>
			<li>Battle Processing</li>

			<li>Shop Processing</li>
			<li>Name Processing</li>
			<li>Change HP</li>
			<li>Change SP</li>
			<li>Change State</li>
			<li>Change EXP</li>

			<li>Change Level</li>
			<li>Change Parameters</li>
			<li>Change Skills</li>
			<li>Change Equipment</li>
			<li>Change Actor Name</li>
			<li>Change Actor Class</li>

			<li>Change Actor Graphic</li>
			<li>Change Enemy HP</li>
			<li>Change Enemy SP</li>
			<li>Change Enemy State</li>
			<li>Enemy Recover All</li>
			<li>Enemy Appearance</li>

			<li>Enemy Transform</li>
			<li>Show Battle Animation</li>
			<li>Deal Damage</li>
			<li>Force Action</li>
			<li>Abort Battle</li>
		</ul>

		<p>The following event commands have been redefined in Pok&eacute;mon Essentials:</p>
		<ul>
			<li>Recover All (only "Entire Party" is supported)</li>
			<li>Show Text (uses a different message system)</li>
			<li>Show Choices (uses a different message system)</li>
			<li>Input Number (uses a different message system)</li>

			<li>Change Battle BGM (for the next battle only)</li>
			<li>Change Battle End ME (for the next battle only)</li>
			<li>Call Save Screen</li>
			<li>Change Gold</li>
			<li>Game Over</li>
			<li>Button Input Processing</li>

		</ul>
		<h3 id='savingthegame'>Saving the Game</h3>
		<p>To save the game, use pbSaveScreen:</p>
		<pre>
Conditional Branch:  Script:  Kernel.pbSaveScreen
  -- The game was saved
Else
  -- The game was not saved
End
</pre>
<h3 id='pc'>PC</h3>
		<p>To open the PC within an event, use the following Script event command.</p>
		<pre>

Script:  pbPokeCenterPC
</pre>
		<p>For the player's PC, use the following Script event command instead.</p>
		<pre>
Script:  pbTrainerPC
</pre>
<p>To set whether the player has seen the Pokemon Storage System's creator, use
the following Script event command.</p>
<pre>
Script: $PokemonGlobal.seenStorageCreator=true
</pre>
		<h2 id='items'>Items</h2>
		<h3 id='itemevents'>Item Events</h3>

		<p>To create an item event, give it the following name: <b>Item:XXX</b>, where XXX is the internal name of the item (generally, the 
name of the item in all uppercase letters, with no spaces).  For example, <b>Item:POTION</b> creates a Potion item, and <b>Item:FULLHEAL</b>
creates a Full Heal item.</p>
		<p>To create a hidden item event, give it the following name: <b>HiddenItem:XXX</b>, where XXX is the internal name of the item (generally, the 
name of the item in all uppercase letters, with no spaces).</p>
		<p>The game will convert both types of item events to real events when you run the game from RPG Maker&#x2122; XP.</p>

		<h3 id='itemmanagement'>Item Management</h3>
		<h4 id='checkingforitems'>Checking for Items</h4>
		<p>The PokemonBag class has a function, pbQuantity, that you can use to check for the existence or amount of an item in the Bag. Here's how to use it:</p>
		<p>Conditional branch for checking for the existence of an item:</p>
		<pre>
$PokemonBag.pbQuantity(PBItems::POTION)&gt;0
</pre>

		<p>Script example: Printing the number of items</p>
		<pre>
itemname=PBItems.getName(PBItems::POTION)
itemqty=$PokemonBag.pbQuantity(PBItems::POTION)
print("#{itemqty}x #{itemname}")
</pre>
		<h4 id='addingremovingitems'>Adding/Removing Items</h4>
		<p>To add an item:</p>
		<pre>
Conditional Branch:  Script:  $PokemonBag.pbStoreItem(::PBItems::POTION)
  -- The item was added
Else
  -- The item couldn't be added
Branch End
</pre>

		<p>This is the most generic of all functions that add items.</p>
		<p>To add an item received from a person, use event commands like the following.</p>
		<pre>
Conditional Branch:  Script:  Kernel.pbReceiveItem(::PBItems::POTION)
  -- The item was added
Else
  -- The item couldn't be added
Branch End
</pre>
		<p><var>Kernel.pbReceiveItem</var> is not a replacement for <a href='#itemevents'>
<var>Kernel.pbItemBall</var></a>.</p>
		<p>To delete an item, use this as a Script event command:</p>

		<pre>
 $PokemonBag.pbDeleteItem(
    PBItems::POTION
   )
</pre>
<p>This script command does not display a message.</p>
		<p>To add more than one item at once, use this as a Script event command:</p>
		<pre>
5.times do
  $PokemonBag.pbStoreItem(
     PBItems::POKeBALL
  )
end
</pre>
		<p>or this newer syntax:</p>
		<pre>

$PokemonBag.pbStoreItem(
     PBItems::POKeBALL, 5
)
</pre>
<p>These script commands does not display a message.</p>
		<h3 id='addingnewitems'>Adding New Items</h3>
		<p>You can add new items to your game by editing <a href='#pbsitemstxt'>items.txt</a> in the PBS folder (See also <a href='#implementingnewitems'>Implementing New Items</a>).
Here are examples of entries in that file.</p>
		<h4 id='keyitems'>Key Items</h4>
		<pre><samp>500,LABKEY,LAB KEY,8,0,"This is a custom Key Item.",0,0</samp></pre>

		<p>The first number, 500, is the item's ID, and the number 8 stands for the Key Items pocket.</p>
		<h4 id='technicalmachine'>Technical Machine</h4>
		<pre><samp>298,TM10,TM10,4,3000,"An attack that varies in type and intensity depending on the user.",3,0,,HIDDENPOWER</samp></pre>
		<p>The number 3000 specifies the price.  The last field here, HIDDENPOWER, identifies this item's move.
When creating a new TM, also edit tm.txt in the PBS folder to add the list of species who can learn the move.  Here's an example for
the move Softboiled.</p>
		<pre>
[SOFTBOILED]
CHANSEY,BLISSEY,HAPPINY,TOGEPI,TOGETIC,TOGEKISS
</pre>
		<h4 id='hiddenmachine'>Hidden Machine</h4>

		<pre><samp>340,HM02,HM02,4,0,"A 2-turn move that hits on the 2nd turn. Use it to fly to any known town.",4,0,,FLY</samp></pre>
		<p>Practically the same as above, except with a 4 after the description. (Note that the price
of a Hidden Machine should be 0.)</p>
		<h4 id='regularitem'>Regular Item</h4>
		<pre><samp>16,ICEHEAL,ICE HEAL,2,250,"A spray-type medicine. It defrosts a frozen POKeMON.",1,1</samp></pre>
		<p>For regular items. The number 2 stands for the Medicine pocket, for items that restore HP, PP, or status problems, or for items that raise stats. Replace 2 with 7 for the Battle Items pocket (items used only in battle), or with 6 for the Mail pocket.  For details on the last two numbers, see fields 7 and 8
in the <a href='advanced.html#pbsitemstxt'>items.txt</a> section in the advanced notes. </p>

<h4 id='evolutionstone'>Evolution Stone</h4>
<pre><samp>95,FIRESTONE,FIRE STONE,1,2100,"A peculiar stone that makes certain species of POKeMON evolve. It is colored orange.",1,0</samp></pre>
<p>For evolution stones, placed in the Items pocket. When adding a new stone for evolving Pokemon, add the following
line to a new or existing script section in the script editor:</p>
<pre>ItemHandlers::UseOnPokemon.copy(:SUNSTONE,:<var>ITEMNAME</var>)</pre>
<p>Replace <var>ITEMNAME</var> above with the internal name of the new item.</p>
		<h3 id='sellingitems'>Selling Items</h3>
<h4 id='pokemonmart'>Pok&eacute; Mart</h4>
		<p>To set up the Pok&eacute; Mart, use the following Script event command (you don't type the word "Script:"):</p>
		<pre>
@&gt;<span style='color:rgb(192,192,192)'>Script: pbPokemonMart([</span>
 : <span style='color:rgb(192,192,192)'>     : PBItems::POKeBALL,</span>
 : <span style='color:rgb(192,192,192)'>     : PBItems::POTION,</span>
 : <span style='color:rgb(192,192,192)'>     : PBItems::ANTIDOTE,</span>
 : <span style='color:rgb(192,192,192)'>     : PBItems::TM20,</span>
 : <span style='color:rgb(192,192,192)'>     : PBItems::TM21,</span>
 : <span style='color:rgb(192,192,192)'>     : PBItems::TM22,</span>
 : <span style='color:rgb(192,192,192)'>     : PBItems::ICEHEAL,</span>
 : <span style='color:rgb(192,192,192)'>     : PBItems::REPEL,</span>
 : <span style='color:rgb(192,192,192)'>     : PBItems::ESCAPEROPE])</span>
@&gt;

</pre>
		<p>Note that the script includes a list of items in the Pok&eacute; Mart, separated by commas. Note also that each item begins with <var>PBItems::</var>.</p>
<h4 id='sellitemcommand'>SellItem command</h4>
<p>For a convenient way to have an event sell items (for example, selling exotic items or selling common items for less), you can use the SellItem pseudo-command.  To use it, put a Comment event command consisting of the text <code>SellItem(ITEM, PRICE)</code> where ITEM is the internal name of the item, and PRICE is the selling price. The game will convert this command to appropriate event commands when you run the game from RPG Maker&#x2122; XP. An example follows:</p>
<pre>Comment: SellItem(POTION,150)</pre>
		
		<h2 id='trainers'>Trainers</h2>
		<p>Trainer events have a name of "Trainer(X)", where X is the
number of spaces that the Trainer can "see".  For example, if the event is named "Trainer(4)", it will trigger
if the player is up to 4 spaces away from it.</p>

		<p>A Trainer event usually has these Comment event commands:</p>
		<pre>
Comment: Battle: Battle me now!
Comment: Type: CAMPER
Comment: Name: Cindy
Comment: EndSpeech: A very good battle, indeed.
Comment: EndBattle: Thanks for the battle.\mI enjoyed it.
</pre>
		<p>The game will convert these comments to appropriate event commands automatically
when you run the game from RPG Maker&#x2122; XP.  Also, the game will automatically detect whether
a Trainer is added when a battle with that Trainer would begin.  If not, you will have
the chance to define the Pok&eacute;mon that the Trainer has.  The meanings of each supported 
comment are defined below.</p>
		<ul>
			<li>Battle:  What the Trainer says before a battle begins.  
  Use "\m" to split the text into individual messages.  There can be more than
one of these comments, and each one gives the introduction text for rematch battles.
If there is more than one Battle comment, then the player can register the Trainer in the phone.</li>
			<li>EndSpeech:  What the Trainer says when the player wins a battle.  There can be
more than one of these comments.</li>
			<li>RegSpeech:  What the Trainer says before registering the Trainer's phone number.</li>
			<li>EndBattle:  What the Trainer says when a battle is over.  
Use "\m" to split the text into individual messages.  There can be
more than one of these comments.</li>
			<li>Type:  Trainer type.  This is an internal name (like LEADER_Roxanne) that is defined
under "Internal name" in the debug menu's Trainer Types option.</li>
			<li>Name:  Name of the Trainer.</li>
			<li>BattleID:  A number to distinguish Trainers with the same Trainer type and Trainer name.</li>
			<li>EndIfSwitch:  If the RPG Maker&#x2122; XP switch with this number is ON, the battle is treated as already over.  This is usually only set for Trainers within a Pok&eacute;mon Gym.</li>
<li>DoubleBattle:  Enter the word <kbd>true</kbd> or <kbd>yes</kbd> to make this battle a double battle.</li>
			<li>VanishIfSwitch:  If the RPG Maker&#x2122; XP switch with this number is ON, the game won't show the event.</li>
<li>Backdrop: Sets the battle background for this Trainer battle (see <a href='#battlebackgrounds'>Battle Backgrounds</a>).  For example, if this value is "Water", the backgrounds would have filenames of  Graphics/Pictures/battlebgWater.png, playerbaseWater.png, and enemybaseWater.png.
</li>
		</ul>
		<h3 id='behindthescenes'>Behind the Scenes</h3>
		<p>Please note that for simple Trainer battles, you can just follow the instructions given above.  Using the method shown below
is appropriate only for more complex battles, such as Gym Leader battles.</p>
		<p>If you inspect the generated event commands, you will see that Trainer events normally consist of two event pages. The first has an Event Touch trigger and has the following structure:</p>

		<pre>
Text:  I challenge you!
Conditional Branch: Script: pbTrainerBattle(PBTrainers::LEADER_Roxanne,"Roxanne",_I("Excellent.  You have earned the Stone Badge."))
  -- here you can add event commands to run when the player wins, but this is not necessary
  Script: $Trainer.badges[0]=true
  Text:  \PN received the Stone Badge!
  Text:  The Stone Badge proves you can succeed in the Pok&eacute;mon League.
  Control Self Switch:  A =ON
Branch End
</pre>
		<p>Notice the parameters to pbTrainerBattle. Here's a list of the parameters:</p>
		<ul>
			<li>Parameter 1: Trainer type (for example, <code>PBTrainers::CAMPER</code>).</li>
			<li>Parameter 2: Trainer's name.</li>
			<li>Parameter 3: What the Trainer says when the player wins.</li>
			<li>Parameter 4: Optional. Whether the battle is a double battle. The default is false. Before the double battle begins, you must check if the player has only one Pok&eacute;mon, like this:
<pre>
@>Conditional Branch: Script: $Trainer.ablePokemonCount&lt;=1
  @>Text: But you just have one Pokemon.
  @>Exit Event Processing
  @>
 : Branch End
</pre>
</li>
			<li>Parameter 5: Optional. A number to distinguish Trainers with the same Trainer type and Trainer name.  Specify 0 if there is only one such Trainer.</li>
			<li>Parameter 6: Optional. If <samp>true</samp>, the game will continue where the battle began even if the player loses the battle. You should check the option "Set handling when conditions do not apply" and place commands to run when the player loses in the Else part of that branch.</li>
		</ul>
		<p>You can play music when a Trainer wants to battle by adding a "Play ME" event command as the 
first on the list of commands. Also, the Trainer event need not be named "Trainer(X)" if just talking to it will start a battle. This is often the case for Gym Leaders and other special Trainers.</p>
		<p>The second event page has a condition of "Self Switch A is ON", and usually contains text that the 
Trainer says after the battle is over. The trigger must be other than Event Touch.</p>
		<p>The game system will automatically handle the case when two Trainers come into contact with the 
player at the same time; in that case, a multi battle will begin if the player has at least two Pokemon.</p>
		<p>For Trainer battles that span two events (as is the case with many double battles), you should turn on the other event's self switch after the player wins. You can use the script <code>pbSetSelfSwitch(event, switch,value)</code> for this. (
"event" is the event's ID number, "switch" is the switch's name, for example <code>"A"</code>, and "value" is <code>true</code>, ON, or <code>false</code>, OFF.)</p>
		<h3 id='doubletrainerbattles'>Double Trainer Battles</h3>
		<p>To start a battle against two different Trainers, use the <code>pbDoubleTrainerBattle</code> function.</p>
		<pre>

@&gt; Conditional Branch: Script: <b>pbDoubleTrainerBattle(PBTrainers::CAMPER,"Andrew",0,_I("ABC"),PBTrainers::CAMPER,"Andrew",0,_I("DEF"))</b>
  @&gt; -- Event commands to run when the player wins
  @&gt;
 : Else
  @&gt; -- Event commands to run when the player loses
  @&gt; Exit Event Processing
  @&gt;

 : Branch End
</pre>
		<p>The function's parameters are as follows:</p>
		<ul>
			<li>Parameter 1: Trainer 1's Trainer type (for example, <code>PBTrainers::CAMPER</code>).</li>
			<li>Parameter 2: Trainer 1's name.</li>
			<li>Parameter 3: For Trainer 1, a number to distinguish Trainers with the same Trainer type and Trainer name.  Specify 0 if there is only one such Trainer.</li>

			<li>Parameter 4: What Trainer 1 says when the player wins.</li>
			<li>Parameter 5: Trainer 2's Trainer type (for example, <code>PBTrainers::CAMPER</code>).</li>
			<li>Parameter 6: Trainer 2's name.</li>
			<li>Parameter 7: For Trainer 2, a number to distinguish Trainers with the same Trainer type and Trainer name.  Specify 0 if there is only one such Trainer.</li>
			<li>Parameter 8: What Trainer 2 says when the player wins.</li>
			<li>Parameter 9: Optional. If <samp>true</samp>, the game will continue where the battle began even if the player loses the battle.</li>
		</ul>
		<p>The important thing to note here is that each Trainer mentioned must have three or fewer Pokemon.</p>
		<h3 id='nightlytrainers'>Nightly Trainers</h3>
		<p>The following example event shows how to make Trainers that battle only at night. However, this technique also applies to Trainers that are active only under certain conditions (using the first conditional branch at the top of both event pages.)</p>
		<h4 id='eventpage1_2'>Event Page 1</h4>
		<ul>
			<li>Trigger: Action Button</li>

			<li>Condition: (none)</li>
		</ul>
		<pre>
@&gt;<span style='color:rgb(0,0,255)'>Conditional Branch: Script: Time.now.hour&lt;6||Time.now.hour&gt;=20</span>
  @&gt;<span style='color:rgb(0,0,0)'>Text: Halt!  Who goes there?</span>
  @&gt;<span style='color:rgb(0,0,255)'>Conditional Branch: Script: pbTrainerBattle(PBTrainers::POKeMANIAC,"Andrew",_I("Whoops..."),false,0)</span>

    @&gt;<span style='color:rgb(255,0,0)'>Control Self Switch: A =ON</span>
    @&gt;
   : <span style='color:rgb(0,0,255)'>Branch End</span>
  @&gt;
 : <span style='color:rgb(0,0,255)'>Else</span>

  @&gt;<span style='color:rgb(0,0,0)'>Text: I'm on guard for suspicious activity.</span>
  @&gt;
 : <span style='color:rgb(0,0,255)'>Branch End</span>
@&gt;
</pre>
		<h4 id='eventpage2_2'>Event Page 2</h4>

		<ul>
			<li>Trigger: Action Button</li>
			<li>Condition: Self Switch A is ON</li>
		</ul>
		<pre>
@&gt;<span style='color:rgb(0,0,255)'>Conditional Branch: Script: Time.now.hour&lt;6||Time.now.hour&gt;=20</span>

  @&gt;<span style='color:rgb(0,0,0)'>Text: Oh, sorry.  You may proceed.</span>
  @&gt;
 : <span style='color:rgb(0,0,255)'>Else</span>
  @&gt;<span style='color:rgb(0,0,0)'>Text: I'm on guard for suspicious activity.</span>
  @&gt;

 : <span style='color:rgb(0,0,255)'>Branch End</span>
@&gt;
</pre>
		<h3 id='partnertrainers'>Partner Trainers</h3>
		<p>In Pok&eacute;mon Essentials, a partner Trainer can be registered so that he or she will appear
as the player's partner in Pok&eacute;mon battles.  To register a partner, use a Script event command:</p>
		<pre>pbRegisterPartner(PBTrainers::PkMnTRAINER_Cheryl,"Cheryl",0)</pre>

		<p>The first parameter is the internal name of the partner's trainer type, and the second parameter is the partner's name.  The parameter shown here as 0 is optional, it indicates which party to use for the partner Trainer.  To define
the partner, choose "Edit Trainers" from the Pok&eacute;mon Essentials Editor (editor.exe).</p>
		<p>The partner will be registered as long as the player remains on the same map.  To deregister
the partner, use a Script event command:</p>
		<pre>pbDeregisterPartner</pre>
		<p>Special rules apply when the player has a partner with him or her.  First, the entire party will
be healed at the end of the battle; and second, all opposing Trainers must have at least two Pokemon
with them.  However, you can try making sure two opposing Trainers face each other.</p>
		<p>You can combine this feature with <a href='#dependentevents'>Dependent Events</a>.</p>

		<p>The back of the Trainer is to be placed in Graphics/Pictures/ and has a filename
of trbackXXX.png, where XXX is the trainer type's ID number (see <a href='#trainerback'>Trainer Back</a>).  Trainer backs for partner
Trainers and other Trainers are defined in the same way.</p>
		<h3 id='editingtrainersandbattles'>Editing Trainers and Battles</h3>
		<p>To edit Trainers and trainer types, open the Pok&eacute;mon Essentials editor (editor.exe) and select "Edit Trainers" or "Trainer Types." (To delete a Trainer type or battle, 
select it and press Z.)</p>
		
		<h2 id='pokemonmanagement'>Pok&eacute;mon Management</h2>
		<h3 id='addingapokemon'>Adding a Pok&eacute;mon</h3>
		<p>For an easy way to add a Pok&eacute;mon, call <code>pbAddPokemon(X,Y)</code> where X is the species number of the Pokemon, and Y is 
its level. Adding a Pok&eacute;mon may fail, so this statement should appear in a "Conditional Branch" event command.  An example is below.</p>
		<p>To learn how to create a new Pok&eacute;mon species, edit the file <a href='#pbspokemontxt'>pokemon.txt</a> in the PBS folder.</p>

		<pre>
@&gt;<span style='color:rgb(0,0,255)'>Conditional Branch: Script: pbAddPokemon("EEVEE",25)</span>
  @&gt;<span style='color:rgb(0,0,0)'>Text: Pok&eacute;mon was received...</span>
  @&gt;
 : <span style='color:rgb(0,0,255)'>Else</span>

  @&gt;<span style='color:rgb(0,0,0)'>Text: Sorry, you have no room...</span>
  @&gt;
 : <span style='color:rgb(0,0,255)'>Branch End</span>
@&gt;
</pre>
<p>In the example above, <samp>"EEVEE"</samp> represents the internal name of the
Pokemon species, and <samp>25</samp> represents the level of the Pokemon. The Pokemon's species
can be given either by its internal name or by its number.</p> 
		<p><var>pbAddPokemon</var> will add the Pok&eacute;mon to either the party or the PC boxes.  
If the Pokemon was added, it displays a message and allows the player to give the Pokemon a nickname.
A similar method, <var>pbAddToParty</var>, will
add a Pok&eacute;mon just to the party.</p>
<p>If you don't want to display messages as the Pokemon is added, you can use the methods <var>pbAddPokemonSilent</var> and <var>pbAddToPartySilent</var> instead.</p>
<p>All four methods mentioned above return true if the game has added the Pokemon, and false if there's no room to add the Pokemon.</p>
<h4 id='modifyingapokemonbeforeaddingit'>Modifying a Pok&eacute;mon Before Adding It</h4>
		<p>The following example shows how to create a Pok&eacute;mon and add it to the Trainer's party.  It also shows
how the Pokemon's data can be modified before the Pok&eacute;mon is added, for example by making it shiny (different-colored) or by changing its gender.  The example uses <var>pbAddToParty</var> to add the Pok&eacute;mon. Alternatively, the method <var>pbAddToPartySilent</var> could be used.</p>

		<pre>
@&gt;<span style='color:rgb(0,0,255)'>Conditional Branch: Script: $Trainer.party.length&gt;=6</span>
  @&gt;<span style='color:rgb(0,0,0)'>Text: You have no room to store the Pokemon...</span>
  @&gt;
 : <span style='color:rgb(0,0,255)'>Else</span>

  @&gt;<span style='color:rgb(192,192,192)'>Script: p=PokeBattle_Pokemon.new(</span>
   : <span style='color:rgb(192,192,192)'>     :   PBSpecies::MAGIKARP,10,$Trainer</span>
   : <span style='color:rgb(192,192,192)'>     : )</span>
   : <span style='color:rgb(192,192,192)'>     : # Make it shiny (optional)</span>

   : <span style='color:rgb(192,192,192)'>     : p.makeShiny</span>
   : <span style='color:rgb(192,192,192)'>     : # Add the Pokemon</span>
   : <span style='color:rgb(192,192,192)'>     : pbAddToParty(p)</span>
  @&gt;

 : <span style='color:rgb(0,0,255)'>Branch End</span>
@&gt;
</pre>
<p>Modifying a Pokemon in this way is optional. Another example:  Replace "p.makeShiny" above with the following to ensure that the Pok&eacute;mon always has
the move Tackle:</p>
<pre>
pbAutoLearnMove(p,PBMoves::TACKLE)
</pre>
<p>If the Pok&eacute;mon can be stored in the PC boxes in case the party is full, you can use the method <var>pbAddPokemon</var> or <var>pbAddPokemonSilent</var> instead to add the Pokemon, as shown in the example below.</p>

		<pre>
@&gt;<span style='color:rgb(0,0,255)'>Conditional Branch: Script: pbBoxesFull?</span>
  @&gt;<span style='color:rgb(0,0,0)'>Text: You have no room to store the Pokemon...</span>
  @&gt;
 : <span style='color:rgb(0,0,255)'>Else</span>
  @&gt;<span style='color:rgb(192,192,192)'>Script: p=PokeBattle_Pokemon.new(</span>

   : <span style='color:rgb(192,192,192)'>     :   PBSpecies::MAGIKARP,10,$Trainer</span>
   : <span style='color:rgb(192,192,192)'>     : )</span>
   : <span style='color:rgb(192,192,192)'>     : # Make it shiny (optional)</span>
   : <span style='color:rgb(192,192,192)'>     : p.makeShiny</span>

   : <span style='color:rgb(192,192,192)'>     : # Add the Pokemon</span>
   : <span style='color:rgb(192,192,192)'>     : pbAddPokemon(p)</span>
  @&gt;
 : <span style='color:rgb(0,0,255)'>Branch End</span>

@&gt;
</pre>
<h4 id='addingapokemonownedbyanotherperson'>Adding a Pok&eacute;mon Owned by Another Person</h4>
		<p>Use the function "<var>pbAddForeignPokemon</var>" to add a Pok&eacute;mon owned by another person, like this:</p>
		<pre>
@&gt;<span style='color:rgb(0,0,255)'>Conditional Branch: Script: pbAddForeignPokemon("SHUCKLE",20,_I("MARK"),_I("SHUCKIE"))</span>
  @&gt; --- Pok&eacute;mon was added ---

  @&gt;
 : <span style='color:rgb(0,0,255)'>Else</span>
  @&gt;<span style='color:rgb(0,0,0)'>Text: You have no room to store the Pokemon...</span>
  @&gt;
 : <span style='color:rgb(0,0,255)'>Branch End</span>

@&gt;
</pre>
		<p>Note the four parameters: species, level, owner's name, and nickname.  
(Specifying a nickname is optional.)
The Pok&eacute;mon added will also have a different ID number
from that of the player, since the player doesn't own that Pok&eacute;mon. This method will display a message if the Pok&eacute;mon was added.</p>
		<p><var>pbAddForeignPokemon</var> will add the Pok&eacute;mon only to the Trainer's party.</p>
		<h4 id='addinganegg'>Adding an Egg</h4>
		<p>You can use the function pbGenerateEgg to add an egg to the Trainer's party. Here's an example.</p>
		<pre>
@&gt;Conditional Branch: Script: pbGenerateEgg("TOGEPI",5)
  @&gt;Text: You have no room to store the Egg...
  @&gt;
 : Else
  @&gt;Text: Received a Pokémon Egg.
  @&gt;
 : Branch End
@&gt;
</pre>
<p>In the example above, <samp>"TOGEPI"</samp> represents the internal name of the egg's
Pokemon species, and <samp>5</samp> represents the starting level of the Pokemon.  The Pokemon's species
can be given either by its internal name or by its number.</p> 
		<p><var>pbGenerateEgg</var> displays no messages and will add the egg only to the Trainer's party.</p>

		<h3 id='removingapokemon'>Removing a Pok&eacute;mon</h3>
		<p>To remove a Pok&eacute;mon from the party, use the script <code>$Trainer.party.delete_at(X)</code> 
where X is the Pok&eacute;mon's position (starting at 0).  For example, to remove the first 
Pokemon in the party, use 0 for X; or, to remove the second Pokemon in the party, use 1 for X.</p>
<p>To remove more than one Pok&eacute;mon at a time, use a loop like the following, which removes the first three Pok&eacute;mon from the party.</p>
<pre><code>

3.times { $Trainer.party.delete_at(0) }
</code></pre>
<p>A safer way to remove a Pokemon is the <code>pbRemovePokemonAt(X)</code> function, which removes the Pokemon only if the player would still have an unfainted Pokemon left. It returns <var>true</var> if the function is successful, and <var>false</var> otherwise. <var>pbRemovePokemonAt</var> should be used within a conditional branch rather than a Script event command.</p>

<h3 id='checkingforpokemon'>Checking for Pok&eacute;mon</h3>
		<p>The script function pbHasSpecies? checks for a Pok&eacute;mon in the player's party.  Example:</p>
		<pre>
Conditional Branch:  Script:  pbHasSpecies?(::PBSpecies::CELEBI)
  -- The Pok&eacute;mon Celebi is in the party
Else
  -- The Pok&eacute;mon Celebi is not in the party
Branch End
</pre>
<p>To determine whether just the first Pokemon in the player's party is a certain species,
use the following instead:</p>

		<pre>
Conditional Branch:  Script:  $Trainer.pokemonParty[0].species==::PBSpecies::CELEBI
  -- The Pok&eacute;mon Celebi is the first in the party
Else
  -- The Pok&eacute;mon Celebi is not the first in the party
Branch End
</pre>
<p>Note the use of <code>$Trainer.pokemonParty</code>, which ignores eggs, instead of 
<code>$Trainer.party</code>.</p>
<h3 id='choosingapokemon'>Choosing a Pok&eacute;mon</h3>
<p>In some situations it may be useful to allow the player to
choose a Pok&eacute;mon from the party in order to handle that Pok&eacute;mon in some way.
You can use the <var>pbChoosePokemon</var> function for this purpose:</p>
<ul>
<li>pbChoosePokemon(var1,var2) - Loads the Pok&eacute;mon screen, where the player can choose a Pok&eacute;mon in the party. The index of the chosen Pok&eacute;mon is stored in the variable numbered _var1_, and its name in the variable _var2_.
Stores -1 in the _var1_ variable  if the player canceled choosing a Pokemon.</li>
</ul>
<p>There are three outcomes to this method: the player canceled choosing a Pok&eacute;mon, the player
chose an egg, and the player chose a Pok&eacute;mon. Each of these three situations should be checked.
Here's an example of using pbChoosePokemon. It also shows how the chosen Pok&eacute;mon
can be retrieved and information queried from it.</p>
<pre>

Script: pbChoosePokemon(1,3)
Conditional Branch: Variable [0001] &lt; 0
  Text: You canceled the choice.
  Jump To Label: Done
Branch End
Comment: Gets the Pokemon stored in variable 1
Conditional Branch: pbGetPokemon(1).egg?
  Text: You chose an egg.
  Jump To Label: Done
Branch End
Comment: Variable 3 has the Pokemon's name
Text: You chose a \v[3].
Comment: Set variable 2 to the chosen Pokemon's level
Script: pbSet(2,pbGetPokemon(1).level)
Text: It's at level \v[2].
Label: Done
</pre>

<p>A related function is called <var>pbChooseAblePokemon</var>. It takes the same parameters
as <var>pbChoosePokemon</var>, but here, the player can't choose eggs or fainted Pok&eacute;mon. The
player can still cancel, though.</p>

		<h3 id='wildpokemonbattles'>Wild Pok&eacute;mon Battles</h3>
		<p>To generate a wild Pok&eacute;mon battle, call <code>pbWildBattle(X,Y,V,C)</code> where:</p>
<ul>
<li>X is the species number of the Pok&eacute;mon.</li>
<li>Y is the Pok&eacute;mon's level.</li>
<li>V is optional and represents the number of a variable to store the result of the battle (for example, if V is 2, then the result of the battle -- 1=won; 2=lost; 3=escaped; 4=caught -- will be stored in variable number 2).</li>
<li>C is optional and is <var>true</var> if the player can escape from the battle (the default is 
<var>true</var>).</li>
</ul>
<p>The following code example starts a battle against a Kecleon at level 20, and stores the result of the battle in variable number 10.</p>
<pre>pbWildBattle(PBSpecies::KECLEON,20,10)</pre>
		<p>To change the kinds of wild Pok&eacute;mon found in an area, you can use the "Set Encounters" option in the Pok&eacute;mon Essentials Editor (editor.exe). After doing so, it is enough to put grass tiles (or other tiles with <a href='#terraintags'>terrain tag</a> 2) on the map for wild Pok&eacute;mon to appear there -- no events are necessary. 
Pokemon Essentials supports two different encounter types: Land and Cave. For Land encounter types, wild Pok&eacute;mon will appear only on the grass. For Cave encounter types, wild Pok&eacute;mon will appear anywhere. Several other encounter types are also supported.</p>
<h2 id='teachingmoves'>Teaching Moves</h2>
		<h3 id='movetutors'>Move Tutors</h3>
		<p>The game system allows the creation of "move tutor" events, like in Pok&eacute;mon FireRed and LeafGreen. 
To use it, call the script function pbMoveTutorChoose(PBMoves::X, Y) where X is the name of a move, 
and Y is a list of species that can use that move. (That move can also be a TM or HM move.) An example of its use follows. The move tutor 
here teaches the move Softboiled.</p>
		<pre>
@&gt;Conditional Branch: Script: pbMoveTutorChoose(PBMoves::SOFTBOILED,::SOFTBOILEDLIST)
  @&gt;Text: Move learned.
  @&gt;
 : Else
  @&gt;Text: Move not learned.
  @&gt;

 : Branch End
</pre>
		<p>
The script code in the conditional branch refers to the array called "::SOFTBOILEDLIST", which is a 
list of species that can learn Softboiled. It can appear in a new script section like this:
</p>
		<pre>
::SOFTBOILEDLIST=[
PBSpecies::CHANSEY,
PBSpecies::HAPPINY,
PBSpecies::BLISSEY,
PBSpecies::TOGEPI,
PBSpecies::TOGETIC,
PBSpecies::TOGEKISS
]
</pre>
<p>Alternatively, you can specify the list of Pokemon who can learn Softboiled in the
PBS/tm.txt file, like this:</p>
<pre>
[SOFTBOILED]
CHANSEY,HAPPINY,BLISSEY,TOGEPI,TOGETIC,TOGEKISS
</pre>
<p>In that case, the conditional branch script shown above will be reduced to the following:</p>

<pre>
pbMoveTutorChoose(PBMoves::SOFTBOILED)
</pre>
<h3 id='teachingmovesinscript'>Teaching Moves in Script</h3>
<p>There are two other ways to teach a move: using the functions <code>pbLearnMove(pokemon,move)</code> and <code>pbAutoLearnMove(pokemon,move)</code> within a script. These two methods take a Pokemon object (see the <a href='#choosingapokemon'>Choosing a Pokemon</a> section for more on Pokemon objects) and the ID of the move (like <code>PBMoves::TACKLE</code>) as parameters. Moves can be taught to a Pokemon using these functions even if the Pokemon isn't intended to learn them. <code>pbLearnMove</code> will display messages and won't replace HM (Hidden Machine) moves.<code>pbAutoLearnMove</code> won't display anything and can replace HM moves.</p>
		<h2 id='graphicaleffects'>Graphical Effects</h2>
		<h3 id='waterreflection'>Water Reflection</h3>

		<p>Any tile with <a href='#terraintags'>terrain tag</a> 6 will display a reflection of any events on it.</p>
		<h3 id='lightsources'>Light Sources</h3>
		<p>Any event can serve as a light source.  To make an event a light
source, name the event either "Light" or "OutdoorLight".  The
difference between them is that an event named "OutdoorLight" will
change its intensity according to the time of day.</p>
		<h3 id='shadows'>Shadows</h3>
		<p>Any event can draw a shadow on the player.  To make an event a shadow
source, add a Comment event command consisting of the text "begin Shadow
Source".  You can add up to four additional Comment event commands for
extra parameters of the shadow, like this:</p>

		<pre>
Comment:  begin Shadow Source
Comment:  anglemin 180
Comment:  anglemax 360
Comment:  distancemax 350
Comment:  opacity 100
</pre>
		<p>To allow a shadow to appear on an event, add a Comment event
command consisting of the text "begin Shadow".</p>
		<h3 id='particleengine'>Particle Engine</h3>
		<p>Pok&eacute;mon Essentials includes a particle engine for enabling special
graphical effects with particles. To add a particle effect to an event,
add to the event a Comment event command consisting of the text "Particle Engine Type"
and add another Comment event command consisting of one of the following:
fire, smoke, teleport, spirit, aura, soot, sootsmoke,
rocket, fixteleport, smokescreen, flare, splash, or
starteleport.</p>
		<h3 id='transitions'>Transitions</h3>

		<p>In addition to normal transitions, Pok&eacute;mon Essentials also supports special
transitions that are not possible with transition bitmaps alone.  Most of them
require the file rubyscreen.dll, included with the distribution, since a screen capture
of the game is required for them.  These transitions
activate when a special pseudofile is entered into the Graphics.transition function.
For example, for the Breaking Glass transition, which breaks the screen into pieces,
the file would be "Graphics/Transitions/BreakingGlass".  That file need not exist,
but it can serve as a map and/or battle transition if that file does exist.  Even
if the file exists, it can even be zero-length and it will still work.</p>
		<p>The following transitions are available:</p>
		<p>RotatingPieces, BreakingGlass, Mosaic, Splash, ScrollDown, ScrollUp, ScrollLeft,
ScrollRight, RandomStripeV, RandomStripeH, ScrollDownRight, ScrollDownLeft, ScrollUpLeft,
ScrollUpRight</p>
		<p>Each special transition is contained in an object similar to that of Sprite -- it 
contains initialize, update, dispose, and disposed?.  Here are the four methods of a
transition object.</p>
		<ul>
			<li>initialize(numframes) - sets up the transition so that it lasts _numframes_
frames.  The setup can involve taking a screenshot of the
game with a call to "pbScreenshot", which returns a bitmap.  If the transition fails to
initialize, it should set its disposed flag to true.  It should also do so if _numframes_
is 0 or less.</li>

			<li>dispose - disposes all resources used by the transition and sets the disposed
flag to true.  This function should let itself be called multiple times.</li>
			<li>disposed? - returns true if the transition was disposed, that is, if the disposed
flag is true.</li>
			<li>update - updates the transition.  This method is called once per frame.  Once the
transition is over, it must call _dispose_ to clean up the transition's resources.</li>
		</ul>
		<p>New transitions are added to the <samp>judge_special_transition</samp> method, located in the
script section Transitions, within the list of "elsif" lines within that method.  For
example, a transition named "mytransition" would be added like this:</p>

		<pre>
    elsif dc=="mytransition"
      @@transition=MyTransition.new(duration)
</pre>
		<p>You can look at the different transition objects in the script section Transitions to get an idea of
how to create your own.</p>
		<h3 id='animatedimages'>Animated Images</h3>
<p>Pok&eacute;mon Essentials supports two kinds of animated images: GIF files and specially designed multi-frame images.
Animated panoramas and fogs, for example, allow special effects such
as twinkling stars in the night sky, or moving sand, and so on.  Animated GIF files should have an extension of 'png'.  To
allow other kinds of images to be animated, add "[X]", where X is the number of frames in the animation, to the 
beginning of the image's file name, and make a horizontally arranged image of each frame in the animation.  For example, a 
four-frame panorama might have the name <b>[4]MyPanorama.png</b>, and the panorama's image would show
the four frames of the animation, arranged horizontally.</p>
<p>Animated images (and especially GIF files) can be used anywhere other kinds of images can be used -- as character sprites, as tilesets, as pictures -- practically everywhere.  In fact, even
projects containing only GIF files and no PNG files are possible.</p>

<p>The Show Picture event command takes advantage of animated image support, and can even animate image files
automatically.  You may have to give the file an extension of "png", though, in order to make it appear
on the list of pictures in RPG Maker&#x2122; XP.</p>
		<h3 id='gifsupportgifsprites'>GIF Support/GIF Sprites</h3>
		<p>There's a special class defined, called IconSprite, which can load <a href='#animatedpanoramasandfogs'>animated image files</a>, including animated GIF files,
and display them one frame at a time.  An IconSprite can be created within a script using <samp>IconSprite.new(x,y,viewport)</samp>
where x and y are the X and Y coordinates of the sprite, and specifying the viewport is optional.  The IconSprite's "update"
method must be called in order to animate the sprite. Its "setBitmap" method sets the file path of an animated image that the sprite refers to (file extensions can be omitted). In all other cases, an IconSprite acts exactly like a Sprite and can be used wherever sprites can be used.</p>
<h4 id='example'>Example</h4>
<p>The example below loads a sprite and makes it display the bitmap named "Graphics/Pictures/picture"</p>
<pre>
# Create viewport
viewport=Viewport.new(0,0,640,480)
# Place sprite at X=100 and Y=50
sprite=Sprite.new(100,50,viewport)
sprite.setBitmap("Graphics/Pictures/picture")
</pre>
		<h2 id='messagesystem'>Message System</h2>
		<p>These are the message system's commands:</p>

		<ul>
			<li>\PN - Displays the player's name. (Please see <a href='#displayingaplayersuppliednameforatrainer'>Displaying a Player-Supplied Name for a Trainer</a> for information on how to display other Trainers' names using message commands.)</li>
			<li>\G - Displays a window showing the player's current money.</li>
			<li>\PM - Displays the player's current money within the message. (example: $1000)</li>
			<li>\v[n] - Displays the value of variable number n.</li>

			<li>\f[X] - Displays the face picture X near the message.  The image specified must be in the Graphics/Pictures/ folder.</li>
			<li>\c[n] - Displays the text that follows in color number n.  0=Black; 1=Blue; 2=Red; 3=Green; 4=Cyan; 5=Magenta; 6=Yellow; 7=Gray; 8=White.</li>
			<li>\[XXXXYYYY] - Displays the text in the base color XXXX and shadow color YYYY. Each color is a hexadecimal 15-bit RGB color. Examples:
<ul>
					<li>\[043c3aff] - Red</li>
					<li>\[06644bd2] - Green</li>
					<li>\[65467b14] - Blue</li>

					<li>\[318c675a] - Gray</li>
				</ul>
			</li>
			<li>\ch[a,b,<i>choices</i>] - Displays a list of choices. _a_ is the number of a variable to store the chosen choice (the first choice is 0, the second is 1, and so on),
_b_ is the choice used when the player cancels (or 0 if the player can't cancel; the first choice is 1, the second is 2, and so on), and _choices_ is a comma-separated list of choices.
This command is designed to support more than four choices, but you can still use the existing choice system. See <a href='#choicedisplayexamples'>below</a> for examples.
</li>
			<li>\1 - Pauses the message. This is usually not necessary unless pauses are desired within a message.</li>
			<li>\n - Causes a line break.</li>

			<li>\b - Male dialogue colors.</li>
			<li>\r - Female dialogue colors.</li>
			<li>\wt[X] - Waits X frames, where a frame is equal to 1/20 of a second.</li>
			<li>\wtnp[X] - Wait and no pause.  Waits X frames, and makes the message close without pausing.</li>
			<li>\se[X] - Plays the sound effect (SE) named X.</li>
			<li>\me[X] - Plays the music effect (ME) named X.</li>

			<li>\\ - Displays the backslash character "\".</li>
			<li>\w[X] - Displays the message in the <a href='#windowskins'>windowskin</a> X.  If this field is blank, the message system won't display a windowskin.</li>
			<li>\sign[X] - Displays the message in the form of a sign and in the <a href='#windowskins'>windowskin</a> X.  If this field is blank, the message system won't display a windowskin.</li>
			<li>&lt;b&gt; ... &lt;/b&gt; - Formats the text in bold.</li>

			<li>&lt;o=X&gt; ... &lt;/o&gt; - Changes the opacity of the text. X can be 0 (fully transparent) to 255 (fully opaque).</li>
			<li>&lt;i&gt; ... &lt;/i&gt; - Formats the text in italics.</li>
			<li>&lt;u&gt; ... &lt;/u&gt; - Underlines the text.</li>

			<li>&lt;c=RRGGBBAA&gt; ... &lt;/c&gt; - Displays the text that follows in the
specified RGB color (similar to how colors are given in HTML, except without the "#" sign).
The "AA" is optional and specifies the hexadecimal opacity of the color and can range from 00 (fully transparent)
to FF (fully opaque).</li>
			<li>&lt;c3=RRGGBBAA,RRGGBBAA&gt; ... &lt;/c3&gt; - Displays the text that follows in the specified RGB colors (similar to how colors are given in HTML, except without the "#" sign).
The "AA" is optional and specifies the hexadecimal opacity of the color and can range from 00 (fully transparent)
to FF (fully opaque).  The first color is the base color and the second color is the shadow color.</li>
			<li>&lt;s&gt; ... &lt;/s&gt; - Draws a strikeout line over the text.</li>

			<li>&lt;outln&gt; ... &lt;/outln&gt; - Displays the text in outline format.</li>
			<li>&lt;r&gt; - Right-aligns the text until the next line break.</li>
			<li>&lt;br&gt; - Causes a line break.</li>

			<li>&lt;fn=X&gt; ... &lt;/fn&gt; - Formats the text in the specified font, or Arial
   if the font doesn't exist.</li>
			<li>&lt;fs=X&gt; ... &lt;/fs&gt; - Changes the font size to X.</li>
			<li>&lt;ac&gt; ... &lt;/ac&gt; - Centers the text.  Causes line breaks before and
   after the text.</li>

			<li>&lt;al&gt; ... &lt;/al&gt; - Left-aligns the text.  Causes line breaks before and
   after the text.</li>
			<li>&lt;ar&gt; ... &lt;/ar&gt; - Right-aligns the text.  Causes line breaks before and
   after the text.</li>
			<li>&lt;icon=X&gt; - Displays the icon X (in Graphics/Icons/).</li>

			<li>&amp;apos; - Converted to "'".</li>
			<li>&amp;lt; - Converted to "&lt;".</li>
			<li>&amp;gt; - Converted to "&gt;".</li>
			<li>&amp;amp; - Converted to "&amp;".</li>
			<li>&amp;quot; - Converted to double quotation mark.</li>

			<li>\l[n] - Changes the number of lines in the text box to n lines.</li>
			<li>\wu - Shows the textbox at the top of the screen.</li>
			<li>\wm - Shows the textbox at the middle of the screen.</li>
			<li>\wd - Shows the textbox at the bottom of the screen.</li>
			<li>\op - Moves the window toward the screen as it opens.</li>
			<li>\cl[X] - Moves the window away from the screen as it closes. The "[X]" is optional,
where X is the sound file to play as the window closes.</li>

		</ul>
		<p>It is not necessary or recommended to put spaces after a message command; such spaces will be reflected in the message
when it is rendered.  For example, "\bText" is preferred over "\b Text".</p>
		<p>It is also not necessary to add manual line breaks to text and limit Text event commands to two lines.
  The message system will automatically break the text as appropriate and scroll the text as needed if all of it doesn't fit on a single text box.</p>
<h3 id='choicedisplayexamples'>Choice Display Examples</h3>
<p>Here are examples of the \ch message command.</p>
<p>The following example displays four choices, stores the chosen variable in variable number 5, and
specifies that choice number 1 will be chosen if the player cancels.</p>
<pre>\ch[5,1,Choice 1,Choice 2,Choice 3,Choice 4]</pre>
<p>Variable 5 will store the number 0 if Choice 1 is chosen, the number 1 if Choice 2 is chosen, and so on.</p>
<p>The following example displays five choices, stores the chosen variable in variable number 5, and
specifies that the player must make a choice.</p>
<pre>\ch[5,0,Choice 1,Choice 2,Choice 3,Choice 4,Choice 5]</pre> 
<p>Here's a complete example that shows how an event can do different things depending on the choice the player chose. Note the conditional branches that check the value of the stored variable.</p>
<pre>
@&gt;Comment: Store choice in variable 1 and 
    :    store the value -1 if the player cancels.
@&gt;Text: Please choose one.\ch[1,-1,Choice 1,Choice 2]
@&gt;Conditional Branch: Variable [0001] == -1
  @&gt;Text: The choice was canceled.
  @&gt;
 : Branch End
@&gt;Conditional Branch: Variable [0001] == 0
  @&gt;Text: Choice 1 was chosen.
  @&gt;
 : Branch End
@&gt;Conditional Branch: Variable [0001] == 1
  @&gt;Text: Choice 2 was chosen.
  @&gt;
 : Branch End
</pre>
<p>In the following example, the player must make a choice.</p>
<pre>
@&gt;Comment: Store choice in variable 1.
@&gt;Text: Please choose one.\ch[1,0,Choice 1,Choice 2]
@&gt;Conditional Branch: Variable [0001] == 0
  @&gt;Text: Choice 1 was chosen.
  @&gt;
 : Branch End
@&gt;Conditional Branch: Variable [0001] == 1
  @&gt;Text: Choice 2 was chosen.
  @&gt;
 : Branch End
</pre>
		<h3 id='usingthemessagesysteminotherprojects'>Using the Message System in Other Projects</h3>
		<p>To use the message system in other RPGXP projects, copy the script sections 
BitmapCache, DrawText, SpriteWindow, and PokemonMessages and put them just before the
last script in the script editor.</p>
		<p>Also, copy the following files to your project:</p>
		<ul>
			<li>Graphics/Pictures/uparrow.png</li>
			<li>Graphics/Pictures/downarrow.png</li>
			<li>Graphics/Pictures/leftarrow.png</li>
			<li>Graphics/Pictures/rightarrow.png</li>

			<li>Graphics/Pictures/pause.png</li>
			<li>Graphics/Pictures/selarrow.png</li>
			<li>Graphics/Windowskins/skin1.png</li>
			<li>Graphics/Windowskins/frlgtextskin.png</li>
			<li>Graphics/Windowskins/frlgtextskin.txt</li>
		</ul>

		<p>After doing so, the new message system will be ready to use.</p>
		<h2 id='backgroundmusic'>Background Music</h2>
		<p>To set the background music for a certain kind of Trainer: Open the Pok&eacute;mon Essentials Editor (editor.exe), then choose "Trainer Types", then choose the Trainer type,
then choose Battle BGM, Battle End ME, or Battle Intro ME.</p>
<p>You may, for example, want to use one kind of music for Elite Four members and Gym Leaders.</p>
		<h3 id='defaultbackgroundmusic'>Default Background Music</h3>
		<p>To change the default battle music for a certain map, open the Pok&eacute;mon Essentials Editor (editor.exe), then choose "Set Metadata", then choose a map, then choose TrainerBattleBGM, WildBattleBGM, TrainerVictoryME, or WildVictoryME.
The names mostly speak for themselves.  The BGM (background music) files are found in the Audio/BGM/ directory, and the ME (music effects) files are found in the
Audio/ME/ folder.</p>
		<h3 id='changingthebattlemusic'>Changing the Battle Music</h3>
		<p>You can change the background music to be played during a battle by using the 
"Change Battle BGM" and "Change Battle End ME" event commands.
Only the next Pok&eacute;mon battle will use these settings. (Note that these event commands should be placed very close to the event command that starts the Pokemon
battle. Their effect doesn't end if the event is run to completion.)</p>
		<h3 id='nightlymusic'>Nightly Music</h3>
		<p>To specify a different BGM file to play at night, add an "n" to the filename before the
file extension.  For example, the nightly version of "song.mid" would be "songn.mid".
This will apply only to BGM files played on the field.</p>
		<h2 id='localizationandtranslation'>Localization and Translation</h2>
		<p>All the text in Pok&eacute;mon Essentials can be translated to a different language using the 
"Extract Text/Compile Text" feature.</p>

		<p>To use this feature, open the Pok&eacute;mon Essentials editor (editor.exe) and select "Extract text".  
This function will save a file called "intl.txt" within the game folder.  Open the file, then translate every second line of the file.  
For example, if one part of the file reads:</p>
		<pre>
Good day.
Good day.
</pre>
		<p>you could translate it by changing it to:</p>
		<pre>
Good day.
Guten Tag.
</pre>
		<p>

After you are done translating, select "Compile Text" from the Debug menu.  This function will convert the text to another file called 
"intl.dat" within the game folder.  Rename that file and put it into the Data folder of the project, then close and restart the game.
</p><p>
The languages that the game uses can be found in the LANGUAGES array of the PokemonSystem script section.  That script defines an
array called LANGUAGES that contains two sample languages and message files, which are commented out.  Each entry in the array includes
the name of the language followed by the message data file's filename (like intl.dat), located in the Data folder.  Please note that
the mentioned files don't really exist.
</p>
		

		<h2 id='debugging'>Debugging</h2>
		<h3 id='playtestingfunctions'>Playtesting Functions</h3>
		<p>In playtests (when the $DEBUG global variable is set), the following functions are available:</p>
		<ul>
			<li>In a Pok&eacute;mon's option menu, the option SHOW VALUES displays the Pok&eacute;mon's Individual Values, Effort Values, personal ID, and happiness.</li>
			<li>In a Pok&eacute;mon's option menu, the option CHEAT CODES saves a file containing cheat codes for the Pok&eacute;mon. The generated codes are compatible with Visual Boy Advance.</li>

			<li>Holding CTRL will disable random encounters and skip Trainer battles. It will also make every tile passable.</li>
			<li>Holding CTRL while selecting the RUN command during a battle will allow the player to flee or decide the outcome of the battle.</li>
			<li>The player can use hidden moves any time, even if he or she doesn't have the right Badge or the right Pokemon.</li>
			<li>The DEBUG option appears on the main menu.</li>
		</ul>
		<h3 id='debugmenu'>Debug Menu</h3>

		<p>The debug menu contains features useful for debugging or configuring a Pok&eacute;mon game.
You can access it by pressing <kbd>F9</kbd> during a playtest or by choosing <kbd>Debug</kbd> from the game's main menu.</p>
		<ul>
			<li>Test Wild Battle - Starts a battle with a wild Pok&eacute;mon of any species and of any level.</li>
			<li>Test Trainer - Starts a battle with a Pok&eacute;mon Trainer.</li>
			<li>Switches - Opens a window containing all defined switches.  To turn a switch on or off,
simply select it.</li>

			<li>Variables - Opens a window containing all defined variables.  To change a variable,
select it then press the left or right arrow keys.</li>
			<li>Set Terrain Tags - Opens a screen allowing you to set the terrain tags of each tile.
This feature is necessary because of the terrain tag limit set by RPG Maker&#x2122; XP.</li>
			<li>Warp to Map - Transfers the player to a random space on another map.</li>
			<li>Animation Editor - Opens the <a href='#animationeditor'>Animation Editor</a>.</li>
			<li>Fill Boxes - Fills all Pok&eacute;mon Boxes with one Pok&eacute;mon of each species.  These Pok&eacute;mon will
have a level of 50.</li>

			<li>Heal Party - Heals all Pok&eacute;mon in the player's party.</li>
			<li>Fill Bag - Adds a defined number of each item to the player's Bag.</li>
			<li>Extract Text - Extracts all text in the game for localization (see <a href='#localizationandtranslation'>Localization and Translation</a>).</li>
			<li>Compile Text - Compiles a text file into a localized format.</li>
			<li>Load Boxes</li>

			<li>Bitmap Cache - Saves information about the bitmap cache to bitmapcache.txt, in the game's folder.</li>
			<li>Reset Trainers - Resets all Trainers on the current map.</li>
			<li>Visual Editor</li>
			<li>Debug Console - Opens the debug console.  This is useful when debugging the game's scripts.  To send
text to the console, call echo(X) within a script, where X is the text to send.</li>
			<li>Compile Data - Compiles all data from the text files in the PBS folder.</li>
			<li>Set Encounters - Allows the Pok&eacute;mon encounters for each map to be modified.</li>

		</ul>
<h2>Shadow Pokemon and Purify Chamber</h2>
<p>Since the February 8, 2010 release, Pokemon Essentials includes support for
shadow Pokemon and the Purify Chamber. However, some required data
is intentionally not included. Follow these steps to add this data.</p>
<p>First, open the file 'PBS/types.txt' and add the following lines.</p>
<pre>
[18]
Name=SHADOW
IsSpecialType=true
InternalName=SHADOW
Resistances=SHADOW
</pre>
<p>Also, add SHADOW as a weakness to each other type in the file.</p>
<p>Then, open the file 'PBS/moves.txt' and add the following lines.</p>
<pre>
471,SHADOWBLITZ,SHADOW BLITZ,121,40,SHADOW,Physical,100,60,0,00,0,bef,Cool,"Shadow Blitz"
472,SHADOWWAVE,SHADOW WAVE,121,50,SHADOW,Special,100,60,0,08,0,b,Cool,"Shadow Wave"
473,SHADOWRAVE,SHADOW RAVE,121,70,SHADOW,Special,100,60,0,08,0,be,Cool,"Shadow Rave"
474,SHADOWBREAK,SHADOW BREAK,121,75,SHADOW,Physical,100,60,0,00,0,abef,Cool,"Shadow Break"
475,SHADOWBLAST,SHADOW BLAST,12E,80,SHADOW,Special,100,60,0,00,0,bef,Cool,"Shadow Blast"
476,SHADOWRUSH,SHADOW RUSH,121,80,SHADOW,Physical,100,60,0,00,0,abef,Cool,"Shadow Rush"
477,SHADOWMIST,SHADOW MIST,122,0,SHADOW,Status,100,60,0,08,0,be,Cool,"Shadow Mist"
478,SHADOWSHED,SHADOW SHED,123,0,SHADOW,Status,100,60,0,10,0,b,Cool,"Shadow Shed"
479,SHADOWHOLD,SHADOW HOLD,124,0,SHADOW,Status,80,60,0,08,0,be,Cool,"Shadow Hold"
480,SHADOWDOWN,SHADOW DOWN,125,0,SHADOW,Status,100,60,0,08,0,be,Cool,"Shadow Down"
481,SHADOWFIRE,SHADOW FIRE,126,75,SHADOW,Special,100,60,10,00,0,bef,Cool,"Shadow Fire"
482,SHADOWCHILL,SHADOW CHILL,127,75,SHADOW,Special,100,60,10,00,0,bef,Cool,"Shadow Chill"
483,SHADOWBOLT,SHADOW BOLT,128,75,SHADOW,Special,100,60,10,00,0,bef,Cool,"Shadow Bolt"
484,SHADOWPANIC,SHADOW PANIC,129,0,SHADOW,Status,100,60,0,08,0,be,Cool,"Shadow Panic"
485,SHADOWSTORM,SHADOW STORM,12A,95,SHADOW,Special,100,60,0,00,0,b,Cool,"Shadow Storm"
486,SHADOWEND,SHADOW END,12B,120,SHADOW,Physical,60,60,0,00,0,abef,Cool,"Shadow End"
487,SHADOWHALF,SHADOW HALF,12C,0,SHADOW,Status,100,60,0,10,0,b,Cool,"Shadow Half"
488,SHADOWSKY,SHADOW SKY,12D,0,SHADOW,Status,100,60,0,10,0,b,Cool,"Shadow Sky"
</pre>
<p>As an optional step, open the file 'PBS/items.txt' and add the following lines.</p>
<pre>
501,JOYSCENT,JOY SCENT,1,300,This scent massage opens the hearts of Pokemon a little.,1,0,0
502,EXCITESCENT,EXCITE SCENT,1,500,This scent massage opens the hearts of Pokemon.,1,0,0
503,VIVIDSCENT,VIVID SCENT,1,800,This scent massage opens the hearts of Pokemon a lot.,1,0,0
504,TIMEFLUTE,TIME FLUTE,1,3000,This item fully opens the hearts of a Pokemon.,1,0,0
</pre>
<p>That's it. There are a few things you can do with the new support:</p>
<ul>
<li>To make a Trainer have a shadow Pokemon, open the Pokemon Essentials
editor, select "Edit Trainers", select the Trainer, then the Pokemon, and make
sure "Shadow" is set to true.</li>
<li>To open the "Relic Stone" event, type the following text in a Script event command: <code>pbRelicStone()</code></li>
<li>To open the "Purify Chamber" event, type the following text in a Script event command: <code>pbPurifyChamber()</code></li>
</ul>
		<h2 id='badges'>Badges</h2>
		<p>To add a Gym Badge, use <samp>$Trainer.badges[X]=true</samp> where X is a number from 0 through 7 (though it is safe to assume that more Badges are possible).
It is normally set after the player defeats a Gym Leader.</p>
		<p>The constants found in the PokemonHiddenMoves script section (like BADGEFORCUT) determine which Badge enables which hidden move.</p>
		<p>The image for all Badges is located at Graphics/Pictures/badges.png.  This image
is 256 pixels in width and contains X rows of eight badges, where X is the number of regions in the game.  Each badge is 32x32 pixels in size. For example, if the game has two regions, the image's height
would be 64 pixels (2 * 32); the first row would have badges for the first region (region 0) and
the second row would have badges for the second region (region 1).</p>
		<h2 id='phone'>Phone</h2>

		<p>The Pokegear phone supports the storage of Trainers' phone numbers and enabling rematches.
A Trainer's phone number can be added if there are multiple battles for the same Trainer event.</p>
		<p>The possible dialogue from a phone can be edited in PBS/phone.txt.  It contains four sections:</p>
		<ul>
			<li>Greetings - Phrases that begin a phone call.</li>
			<li>Bodies - Phrases that follow a greeting and complete a phone call.</li>
			<li>Generics - Phrases that consist of a complete phone call.</li>

			<li>BattleRequests - Phrases that offer to battle.</li>
		</ul>
		<h2 id='coincaseandgamecoins'>Coin Case and Game Coins</h2>
		<p><samp>$PokemonGlobal.coins</samp> in a script retrieves the current number of coins.  Example:</p>

		<pre>
Text:  Here are some coins.
Script:  $PokemonGlobal.coins+=10
Text:  Obtained 10 game coins!
</pre>
		<p>(It may be useful here to add code to enforce a maximum number of coins:)</p>
		<pre>
Script:  $PokemonGlobal.coins+=10
:     :  if $PokemonGlobal.coins&gt;9999
:     :     $PokemonGlobal.coins=9999
:     :  end
</pre>
		<p>However, a player can't obtain Coins without a Coin Case, so that case should be checked first.</p>
		<pre>

Conditional Branch:  Script:  $PokemonBag.pbQuantity(PBItems::COINCASE)==0
  Text:  Oops!  Forgot the Coin Case!
  Exit Event Processing
Branch End
</pre>
		<p>
Another example:
</p>
		<pre>
Script:  pbSet(1,$PokemonGlobal.coins)
Text:  You have \v[1] game coin(s).
</pre>
		<h2 id='dependentevents'>Dependent Events</h2>
		<p>The game system supports dependent events. Dependent events are those 
that follow the player character whenever the player moves. To add a dependent event, use this script:</p>
		<pre>

Kernel.pbAddDependency2(ID, "XXX", COMMONEVENT)
</pre>
		<p>where ID is the event's ID number (use <b>@event_id</b> to refer to the current event; to find out an event's 
ID number, double-click on the event, and the ID will appear on the dialog box shown), "XXX" is an arbitrary
name used to identify the event, and COMMONEVENT is the common event number to call when the player talks to the
dependent event.</p>
		<p>To remove a dependent event, use this script:</p>
		<pre>
Kernel.pbRemoveDependency2("XXX")
</pre>
		<p>where XXX is the name used in the call to "pbAddDependency2".</p>

		<p>Dependent events will remain even if a player leaves one map and enters another one.  The implementation
of dependent events was changed considerably since the September 22, 2008 release.</p>
<h2 id='ingametrades'>In-Game Trades</h2>
<p>To make an in-game trade event, copy the example found in the man at the demo's Pok&eacute;mon Center.</p>
<p>Essentially, there are two steps to making a trade event.  First, add a Script event command
containing the command to choose a Pok&eacute;mon from a certain species, in this case Rattata:</p>
<pre>
pbChoosePokemon(1,2,
proc {|poke|
 !poke.egg? and 
  poke.species==PBSpecies::RATTATA
})
</pre>
<p>Then, if the player chose a Pok&eacute;mon (use a Conditional Branch checking whether the variable 1
doesn't equal -1), run a script containing the following code.  Note that the species received
is Haunter.</p>

<pre>
pbStartTrade(
pbGet(1),
PBSpecies::HAUNTER,
"HAHA", # Nickname
"ANDY" # OT
)
</pre>

		<h2 id='bicycle'>Bicycle</h2>
		<p>Use the script "pbMountBike" and "pbDismountBike" to mount and dismount the bicycle.</p>
<p>If the setting BicycleAlways is set on a map, the player will appear with a bicycle whether or not the player
has a bicycle present in the inventory.  This behavior is intentional and is present for convenience purposes, so that
the game need not check whether the player actually has a bicycle.  For that reason, events within a game should check
for the presence of a Bicycle (see "Checking for Items" in this document) or use the script <code>$PokemonGlobal.bicycle</code> in a conditional branch before the player is allowed to enter a map
where the player mounts a bicycle automatically.</p>
<h2 id='multipleregions'>Multiple Regions</h2>
<p>Pokemon Essentials supports multiple regions in a single game. A region, here, is defined as a single
collection of related maps.  These maps can be indoor or outdoor, but all belong to the same general "area"
of a game instead of any other area. Here are things to consider
when creating a multiple-region game.</p>
<ul>
<li>The file townmap.txt in the PBS folder holds information on each region in the game and
the locations of each major area on the map.  The sections begin with lines like "[0]" (the first
region), "[1]" (the second region), and so on. To create a new region, assign it a new section title
at the end of the file (like "[2]").</li>

<li>The HTML page <a href='#townmapgeneratortownmapgenhtml'>townmapgen.html</a> is a town map generator editor which makes it easier
to edit the information in the townmap.txt file.  It is fairly intuitive to use.</li>
<li>In the metadata, you should specify the location in the town map of every RPG Maker&#x2122; XP map
in your game, even for houses, Pokemon Centers, and other indoor maps. To do this, open the editor
(editor.exe), and select Set Metadata, then edit the MapPosition setting of every map
in your game.</li>
<li>Edit the file <a href='#badges'>badges.png</a> in Graphics/Pictures/ according to the badges used in each
region of the game, if more than one region has its own Pok&eacute;mon League.</li>
</ul>

		<h2 id='daynightsupport'>Day/Night support</h2>

<p>Pokemon Essentials will adjust the outdoor screen's colors according to the time of day. This behavior is based not just on the clock time, but on the user's location in the world. To improve the accuracy of the day/night adjustment, you should set the correct time and time zone in your system.</p>
<p>In the Custom and Perspective map views, the day/night adjustment will be disabled for any
event named "RegularTone". Such events will normally represent lighted windows.</p>
<p>You can use the following functions in scripts and conditional branches:</p>
<ul>
<li><code>PBDayNight.isNight?()</code> - Returns true if it's night (from sunset to sunrise)</li>
<li><code>PBDayNight.isDay?()</code> - Returns true if it's day (from sunrise to sunset)</li>
<li><code>PBDayNight.isMorning?()</code> - Returns true if it's morning (from sunrise to high noon)</li>

<li><code>PBDayNight.isAfternoon?()</code> - Returns true if it's the afternoon (from high noon to sunset)</li>
<li><code>PBDayNight.getShade()</code> - Returns a value from 0 through 255, where 0 is full night and 255 is full day.</li>
</ul>
		<h2>Miscellaneous</h2>
		<p>Use <samp>$Trainer.pokedex=true</samp> to add the Pokedex.</p>
		<p>Use <samp>pbShowMap</samp> to show the Town Map.
In <a href="#debugging">Debug Mode</a>, you can edit the name of any point on the map by selecting it.</p>
		<p>Use <samp>$Trainer.pokegear=true</samp> to add the Pokegear.</p>
		<p>Use <samp>$PokemonGlobal.runningShoes=true</samp> to give Running Shoes to the player.</p>

		<h2 id='suggestionsforcustomizingscripts'>Suggestions for Customizing Scripts</h2>
		<p>For further scripting ideas, see the <a href='advanced.html'>advanced topics</a>.</p>
		<p>This page can't provide details on how to use the scripting language
Ruby.  For that, see the links in the Ruby language home page's 
<a href='/web/20120302172735/http://www.ruby-lang.org/en/documentation/'>Getting Started section</a>.
For reference material, read the help file provided with RPG Maker&#x2122; XP.</p>
<h3 id='settingavariablefromscript'>Setting a Variable from Script</h3>
<p>In addition to using event commands, you can set game variables from scripts as well. This is useful if the function is implemented in script, such as a function described in the  <a href='advanced.html'>advanced topics</a>. This is how a variable can be set in a script.</p>
<pre>pbSet(X,100)</pre>
<p>where X is the variable's number, such as 50.  The code above sets that variable to 100. Later, you can display that variable's value in a Text event command like this:</p>
<pre>Text: The magic number is \v[X]!</pre>

<p>Replace X in the example above with the same value you defined in the previous example, for example, <code>\v[50]</code>.</p>
<p>And this example sets variable 60 to the number of Pokemon that the player has seen:</p>
<pre> 
pbSet(60,$Trainer.seen)
</pre>
<p>To get the value of a variable in a script, use <code>pbGet(X)</code> where
X is the variable's ID.</p>
		<h3 id='displayingaplayersuppliednameforaperson'>Displaying a Player-Supplied Name for a Person</h3>
		<p>To make the player give a name to a person, you can use this Script event command 
within an event (assuming that 25 is the variable you want to use):</p>
		<pre>
pbSet(25,pbEnterText("Rival's name?",1,7,"Gary"))
</pre>

		<p>Here, "Gary" is the Trainer's default name.  "Rival's name?" is the text to display as the title
of the name entry screen.</p>
		<p>With this approach, you can display the person's new name within a Text event command using the command "\v[25]".</p>
		<p>(Here's optional, but necessary if the person is also a Pok&eacute;mon Trainer.)
Then modify the script section PokemonTrainers by adding the lines in bold, 
assuming that the Trainer's trainer type is RIVAL and the Trainer's name is "???". Here's from lines 14 to 16, and the lines not in bold show only where to place the code):</p>
		<pre>
   name=pbGetMessageFromHash(MessageTypes::TrainerNames,name)
<b>   if trainerid==PBTrainers::RIVAL &amp;&amp; trainername=="???"
     name=$game_variables[25] # Replace 25 with the variable number for the name
   end</b>

   opponent=PokeBattle_Trainer.new(name,thistrainerid)
</pre>
		<p>The code above replaces the name "???" with the name the player gave.</p>
		<h3 id='shinywildpokemon'>Shiny Wild Pok&eacute;mon</h3>
		<p>To allow battles with shiny (different-colored) wild Pok&eacute;mon, you first need to define a switch for shiny Pok&eacute;mon, say, 50.  
Now, insert a new script section just before the last script section in the script editor.  
In that script, enter the following:</p>
		<pre>

Events.onWildPokemonCreate+=proc {|sender,e|
  pokemon=e[0]
  if $game_switches[50]
    pokemon.makeShiny
  end
}
</pre>
<p>(The code can also modify the Pok&eacute;mon in a different way, such
as editing its Individual Values or changing the moves it knows.)</p>
		<p>Then, enable the switch (in this case, 50) before a wild battle with a shiny Pok&eacute;mon, and disable the switch when the battle is over. Example:</p>
		<pre>
Control Switches: [0050: Shiny] = ON
Script: pbWildBattle(
          ::PBSpecies::GYARADOS,30,1)
Control Switches: [0050: Shiny] = OFF
</pre>
		<p>The steps mentioned above affect only wild Pok&eacute;mon battles, and won't affect any other Pokemon, including Pok&eacute;mon added to the Trainer's party.</p>

		<h3 id='allowingaplayertoloseatrainerbattle'>Allowing a Player to Lose a Trainer Battle</h3>
		<p>Here's an example of a battle where the player stays at the same position whether he or she loses or wins a Trainer battle.</p>
		<pre>
Conditional Branch: Script: pbTrainerBattle(PBTrainers::LEADER_Roxanne,"Roxanne",_I("Excellent."),false,0,<b>true</b>)
  -- here you can add event commands to be run when the player wins the battle
Else
  -- here you can add event commands to be run when the player loses the battle
Branch End
</pre>
		<h3 id='noshinypokemon'>No Shiny Pok&eacute;mon</h3>
		<p>If you don't want shiny (different-colored) Pok&eacute;mon in your game, you can use the following script section
in the script editor:</p>

		<pre>
class PokeBattle_Pokemon
 def isShiny?
  return false # No Pok&eacute;mon are shiny
 end
end
</pre>
		<p>Then it should be safe to remove all shiny Pok&eacute;mon sprites (in Graphics/Battlers, with
names like poke001s.png and poke001sb.png).</p>
<h3 id='trainerobject'>Trainer Object</h3>
		<p>PokeBattle_Trainer.new has two parameters: the first is the Trainer name, and the second identifies the trainer type 
(such as PBTrainers::YOUNGSTER). The $Trainer object identifies the player. Here are some properties of the $Trainer object:</p>

		<ul>
			<li>$Trainer.pokedexSeen -- Number of Pok&eacute;mon seen</li>
			<li>$Trainer.pokedexOwned -- Number of Pok&eacute;mon owned</li>
			<li>$Trainer.numbadges -- Number of badges</li>
			<li>$Trainer.pokedex -- Whether the player has the Pok&eacute;dex</li>
			<li>$Trainer.party -- Array that specifies the player's current party of Pok&eacute;mon</li>

		</ul>
		<h3 id='changingthemaximumpossiblelevel'>Changing the Maximum Possible Level</h3>
<p>To change the maximum level from 100 to any other number (such as 200), go to the script section PBExperience, look for the line starting with "MAXLEVEL=", and change the value of MAXLEVEL to any other number.</p>
<h3 id='optionscreen'>Option Screen</h3>
<p>The script section PokemonOption displays the game's option screen.  There are several
predefined options such as Text Speed and Battle Style.  Options are placed in a class named PokemonSystem,
within the PokemonOption script section.  Find the array named "@PokemonOptions".
To add an option, define a setter and a getter for that option.  (The setter and getter are "proc" statements
that define an inline function used by each option.) To delete an option, comment it out or delete it.
The game's options may be placed in any order.</p>
<h3 id='screensize'>Screen Size</h3>
<p>Change the screen size (resolution) by changing the "@@width" and "@@height" variables in the script section SpriteResizer. If you change the screen size, you should delete the option "Screen Size" in the script section "PokemonOption"
(see "Option Screen", above).</p>
<h3 id='playingasoundwhensteppingontiles'>Playing a Sound When Stepping on Tiles</h3>
<p>The following example plays a sound (in this
case, <samp>sand.wav</samp> in the Audio/SE folder) whenever the player walks on sand.
To use the example, put the code below in a new script section in the script editor.</p>
<pre>
Events.onStepTakenFieldMovement+=proc{|sender,e|
  event=e[0] # Get the event that just stepped on the tile
  if event==$game_player # Check whether the player just stepped on the tile
   if pbGetTerrainTag(event)==PBTerrain::Sand # If this is a sand tile
     pbSEPlay("sand.wav") # Play a sand sound file
   end
  end
}
</pre>
		<h2 id='controllingeventswithscripts'>Controlling Events with Scripts</h2>
		<p>The script section PokemonMessages contains several functions for controlling
events with scripts.  This includes applying move routes, waiting, and so on.
For an example of their use, see the script section PokemonDuel.</p>

		<h3 id='pbwaitx'>pbWait(<i>x</i>)</h3>
		<p>Waits x frames, where a frame is 1/40 of a second.  While waiting, processes the
rest of the scene.</p>
		<h3 id='pbshakepowerspeedx'>pbShake(<i>power</i>,<i>speed</i>,<i>x</i>)</h3>

		<p>Shakes the screen x frames, where a frame is 1/20 of a second. The shake has power "power"
and speed "speed". Returns immediately.</p>
		<h3 id='pbflashcolorx'>pbFlash(<i>color</i>,<i>x</i>)</h3>
		<p>Flashes the screen x frames, where a frame is 1/20 of a second. 
in the specified color (Color).</p>
		<h3 id='pbtonechangealltoneduration'>pbToneChangeAll(<i>tone</i>,<i>duration</i>)</h3>

		<p>Sets the screen color tone ("tone", Tone) on the screen and all pictures.
Fades the tone in for <i>duration</i> frames, where a frame is 1/20 of a second.</p>
		<h3 id='pbmoverouteeventcommands'>pbMoveRoute(<i>event</i>,<i>commands</i>)</h3>
		<p>Runs a move route on an event (Game_Character).  To get the player, use "$game_player".
To get an event, use "$game_map.events[X]" where X is the event ID.  "event" can be nil.
"commands" is an array of move route commands, with each command followed by a set of parameters for that command.  Here
is an example of a move route defined for a player:</p>
		<pre>

    pbMoveRoute($game_player,[
      PBMoveRoute::ChangeSpeed,2, 
      PBMoveRoute::Backward
    ])
</pre>
		<p>Notice that the ChangeSpeed command is followed by a number specifying the speed.  The Backward
command has no parameters, however.  Here's a list of possible commands.  Most are self-explanatory.</p>
		<ul>
			<li>Taking no parameters: Down, Left, Right, Up, LowerLeft, LowerRight, UpperLeft, UpperRight, Random,
  TowardPlayer, AwayFromPlayer, Forward, Backward, TurnDown, TownLeft, TurnRight, TurnUp, TurnRight90,
  TurnLeft90, Turn180, TurnRightOrLeft90, TurnRandom, TurnTowardPlayer, TurnAwayFromPlayer,
  WalkAnimeOn, WalkAnimeOff, StepAnimeOn, StepAnimeOff, DirectionFixOn, DirectionFixOff, ThroughOn,
  ThroughOff, AlwaysOnTopOn, AlwaysOnTopOff</li>
			<li>Jump - 2 parameters: X offset, Y offset</li>
			<li>Wait - 1 parameter: Number of frames to wait (1/20 second)</li>

			<li>SwitchOn - 1 parameter: Switch number</li>
			<li>SwitchOff - 1 parameter: Switch number</li>
			<li>ChangeSpeed - 1 parameter: Desired movement speed (1-6)</li>
			<li>ChangeFreq - 1 parameter: Desired frequency (1-6)</li>
			<li>Graphic - 4 parameters: Filename, hue (0-359), direction (2=up, 4=left, 6=right, 8=up), pattern (0-3)</li>
			<li>Opacity - 1 parameter: New opacity (0-255)</li>

			<li>Blending - 1 parameter: New blend type (0=normal, 1=add, 2=subtract)</li>
			<li>PlaySE - 1 parameter: Name of the Sound Effect (SE) file to play</li>
			<li>Script - 1 parameter: Script to run</li>
			<li>ScriptAsync - 1 parameter: Script to run, except that the move route doesn't wait for its completion</li>
		</ul>
		<p>The function adds a ThroughOn command at the beginning and a ThroughOff command at the end of the move route.
This function returns immediately and doesn't wait for the move route to complete.  This function's return value
is the generated move route (RPG::MoveRoute).</p>

		<h2 id='configuringtheserver'>Configuring the Server</h2>
		<p>Here's a guide for using the new server in Pok&eacute;mon Essentials (as of September 1, 2008), as
used in the online trade system. For those interested, the <a href='protocol.txt'>protocol document</a> 
details the protocol used.</p>
		<p>The very small server, 32 KB, was written in C# using the .NET Framework 2.0.  It uses the Microsoft&reg; Access&reg;
database driver that is included in the .NET Framework.  To begin, copy the files in Server.zip to an empty folder
and open netserver.xml (in Notepad) to configure the details of the server used to listen for connections:</p>
		<ul>
			<li>The <b>hostname</b> (IP) can either be a subdomain, an IP address, or the special value "localhost", which
stands for the local computer.  Using a subdomain allows you to hide the IP address of your server, since
the subdomain is less likely than the IP address to change.</li>

			<li>The <b>port</b> (port) can be any number from 1 through 65535; the number 4000 appears to be a fine 
choice.</li>
		</ul>
		<p>Enter the hostname and port and save the file.  Then run netserver.exe and you're all finished. (It should 
say that the server is using the specified IP address and port.)  The source code to the server is included 
in Source.zip.</p>
		<h3 id='publishingtheserver'>Publishing the Server</h3>
		<p>There are two ways to make the server available for others for use.  The easier way is to use a program called
"Hamachi".</p>

		<ol>
			<li>Download <a href='/web/20120302172735/http://www.download.com/LogMeIn-Hamachi/3000-2651_4-10785910.html?tag=lst-1'>"Hamachi&reg;"</a>
and install it.  You should choose the "Basic" configuration during the installation process.</li>
			<li>After installing Hamachi, run it and follow the instructions until you create a Hamachi network.  Then, use
the IP address found at the top of the Hamachi window in the netserver.xml file.</li>
			<li>If necessary, you should disable any firewalls you have.</li>
		</ol>
		<p>And here is a more difficult way to publish the server.</p>

		<ol>
			<li>Create an account on <a href='/web/20120302172735/http://www.dyndns.com/'>DynDNS.com</a>.  After doing so, <a href='/web/20120302172735/https://www.dyndns.com/account/services/hosts/add.html'>log in</a>,
choose a hostname (subdomain), choose "Use auto detected IP address" in the IP address section, and finally choose "Create Host".
Use the hostname generated in this step in the netserver.xml file.</li>
			<li>Choose a port from 1 through 65535, such as 4000.  Use <a href='/web/20120302172735/http://www.portforward.com/english/routers/port_forwarding/routerindex.htm'>this page</a>
to find your router, and follow the instructions to forward the selected port to allow its use by outsiders.  (You can also
forward other ports in the same way, such as the HTTP port 80.)  If you don't have a router, skip this step.  If you don't see your router on the list, please contact your Internet Service Provider.</li>
			<li>If necessary, you should disable any firewalls you have.</li>

		</ol>
		<p>Finally, add an entry to "servers.txt" containing the hostname and port determined in the preceding steps.
An example of such a line is: "xxx.xxx.net:4000" or "111.222.33.44:4000".</p>
	
<h2>Wii&reg; Remote</h2>

<p>Pokemon Essentials includes a script that accesses the accelerometer of the Wii&reg; Remote.
Three new methods are added to the Input module for accessing the X, Y, and Z acceleration parameters.
An accelerometer is a sensor that detects changes to the device's orientation. The three new functions for accessing
accelerometer data are:</p>

<ul>
<li>Input.xaccel() - Returns a value from -1 through 1 that specifies the degree of movement, or acceleration,
for the X axis.</li>
<li>Input.yaccel() - Returns a value from -1 through 1 that specifies the degree of movement, or acceleration,
for the Y axis.</li>
<li>Input.zaccel() - Returns a value from -1 through 1 that specifies the degree of movement, or acceleration,
for the Z axis.</li>
</ul>

<p>Since this script was not tested with an actual Wii&reg; Remote and Bluetooth&reg; dongle, this script might currently
not work as expected or the definitions of the above functions may be wrong.</p>

<p>This functionality is made possible with a library called WiiYourself!.
As specified in the license terms, it must be said that this product:</p>

<pre>contains WiiYourself! wiimote code by gl.tter
    http://gl.tter.org</pre>

	<h2 id='history'>History</h2>

<h3 id='july212008'>July 21, 2008</h3>
<p>Maintenance only; font names were changed</p>

<h3 id='february32008'>February 3, 2008</h3>
<p>Modified scripts for RPGVX compatibility</p>
<p>Added the SellItem pseudocommand</p>
<p>Added the Backdrop command for Trainer battles</p>
<p>Full script is shown if an error occurs during a Script event command</p>
<p>Improved dependent events implementation</p>

<h3 id='january92008'>January 9, 2008</h3>
<p>Accent marks added where appropriate</p>
<p>Changes and fixes to better support different window sizes</p>
<p>Better support for animated GIF files and animated images</p>
<p>Option screen is now more extensible</p>

<p>Added the hidden move Chatter</p>
<p>Maps copied to the Data folder are automatically imported</p>
<p>Day/night cycle changes depending on the season</p>
<p>Improved recording support</p>
<p>Backgrounds and title screen now supports animated images/GIFs</p>
<h3 id='december142008'>December 14, 2008</h3>
<p>Honors 'Change Save Access', 'Change Menu Access' and 
'Change Encounter' event commands, as well as Button Input Processing</p>
<p>Bug fixes</p>
<p>Added support for 'Game Over' event command</p>

<p>Pause arrow</p>
		<h3 id='october42008'>October 4, 2008</h3>
		<p>More improvements to dependent event system, removed map limitation
for partner Trainers</p>
		<p>Allowed changes to maximum level</p>
		<h3 id='september222008'>September 22, 2008</h3>
		<p>Fixed bugs that hindered playing from encrypted archives</p>

		<p>Reimplemented dependent events feature</p>
		<p>Changed text display algorithm</p>
		<p>Added feature to delete save files</p>
		<p>Disallowed running within caves and indoor maps</p>
		<h3 id='september142008'>September 14, 2008</h3>
		<p>Added support for animated panoramas and fogs</p>

		<p>Allowed GIF files to serve as pictures in event commands</p>
		<p>Added documentation regarding publishing the server</p>
		<p>Fixed bug in tilemap for certain maps</p>
		<p>Added mechanism for changing the battle background for
a single battle (see documentation for details</p>
		<h3 id='september12008'>September 1, 2008</h3>
		<p>Stabilized and updated online trade system and replaced Ruby server with a new C# server</p>

		<p>Moved advanced topics to a separate "Advanced Topics" file, made editing metadata.txt deprecated</p>
		<h3 id='august82008'>August 8, 2008</h3>
		<p>Added more speech frames</p>
		<p>Improved <a href='#localizationandtranslation'>localization (translation)</a> support</p>
		<p>Added section on scenes to the notes</p>

		<p>Made editing trainers.txt, encounters.txt, and trainernames.txt deprecated</p>
		<h3 id='july102008'>July 10, 2008</h3>
		<p>More message system improvements</p>
		<p>Toned down the nighttime color</p>
		<p>Performance improvement with thread priorities</p>
		<h3 id='july12008'>July 1, 2008</h3>

		<h3 id='june242008'>June 24, 2008</h3>
		<p>Added a very simple Pok&eacute;mon lab example</p>
		<p>Prevented throwing an error if the player has no Pok&eacute;mon</p>
		<p>Added support for common battle animations: "Common:StatUp",
"Common:StatDown", "Common:Burn", "Common:Frozen", "Common:Poison",
"Common:Sleep", "Common:Paralysis", and "Common:Confusion"</p>
		<p>Made Audio.dll optional</p>

		<p>Improved sandstorm animation a little</p>
		<h3 id='june12008'>June 1, 2008</h3>
		<p>Added a very simple Gym example</p>
		<p>Added support for Recover All event command</p>
		<p>Miscellaneous fixes and improvements</p>
		<h3 id='may252008'>May 25, 2008</h3>

		<ul>
			<li>Fixed bug where reflection can extend off the water for larger sprites.</li>
			<li>More improvements to message system</li>
			<li>Fixed bug where Pok&eacute;mon can earn more effort values than the maximum,
thus preventing wild stat changes</li>
		</ul>
		<h3 id='may212008'>May 21, 2008</h3>

		<p>Improved on the message system and added instructions for incorporating
the message system into other projects.</p>
		<h3 id='may152008'>May 15, 2008</h3>
		<p>New name entry system, implemented "Area" feature of the Pokedex.</p>
		<h3 id='may22008'>May 2, 2008</h3>
		<ul>
			<li>Restructured game system for more extensibility</li>

			<li>Implemented roaming Pok&eacute;mon mechanism (Latios, Raikou, and so on).  See PokemonRoaming to learn how
to set it up.  This component is optional.</li>
			<li>Improved Poke Radar.  The Poke Radar component is now optional.</li>
			<li>Fixed animation bug where animation didn't reverse</li>
			<li>Added two functions to game editor</li>
			<li>Implemented in-game trade events</li>
		</ul>

		<h3 id='april262008'>April 26, 2008</h3>
		<p>Implemented Poke Radar; rewrote Bitmap Caches to avoid memory problems;
made Trainer Pok&eacute;mon stronger than wild Pokemon.
Implemented Spinda's Spots; improved battle AI in Pokemon-switching decisions.</p>
		<h3 id='march12008'>March 1, 2008</h3>
		<p>Another maintenance release.  Included an editor for easy access to the game
settings without opening RPG Maker&#x2122; XP.</p>
		<h3 id='february192008'>February 19, 2008</h3>
		<p>Just a maintenance release, no features were added.  Code was changed and scripts added to 
make Pok&eacute;mon Essentials compatible with RGSS 2, and moved Trainer, item, and species constants 
to a separate data file, to prevent problems that can occur when a project is saved.  Also, 
the Audio DLL was modified to help fix a bug in playback.</p>

		<h3 id='february112008'>February 11, 2008</h3>
		<ul>
			<li>Fixed EXP gain animation problem</li>
			<li>Changed first map in demo to give more information in-game</li>
			<li>Added more formatting codes to message system</li>
			<li>Added debug option for teaching moves</li>

			<li>General memory fixes and improvements</li>
		</ul>
		<h3 id='february32008_0'>February 3, 2008</h3>
		<ul>
			<li>More battle transitions added</li>
			<li>Hidden move animation and fishing animation</li>
			<li>Support for double wild battles and partner Trainers</li>

			<li>Fixed potential problem where a wild encounter can run even
 if an event triggers on grass</li>
			<li>Fixed bugs in storage system</li>
			<li>Fixed bug where defining custom moves for a Trainer causes an error</li>
		</ul>
		<h3 id='january242008'>January 24, 2008</h3>
		<ul>
			<li>Increased number of storage boxes to 40</li>

			<li>Improved custom Tilemap's performance in large maps</li>
			<li>Changed font installation code</li>
			<li>Message system now supports "Change Text Options" event command</li>
			<li>Fixed bug in 640x480 mode where battle transitions were
  improperly displayed</li>
			<li>Fixed Revival Herb bug where it restored half HP and not full HP.</li>
			<li>New GifSprite class supports loading GIF images and animations</li>

			<li>Fixed bug that causes error after losing a Trainer battle</li>
		</ul>
		<h3 id='january192008'>January 19, 2008</h3>
		<ul>
			<li>Fixed default map view to synchronize water
 animation. in connected maps</li>
			<li>Added mechanism to define custom moves</li>
			<li>Changed code to make Pok&eacute;mon pictures larger than
 128x128 display properly.</li>

			<li>Reorganized script section PBTypes and added
 comments</li>
			<li>New feature checks the battery on laptop computers
 and gives a warning</li>
		</ul>
		<h3 id='january142008'>January 14, 2008</h3>
		<ul>
			<li>Audio module was replaced with a custom one</li>
			<li>More changes to adapt to "Graphics.width/
  Graphics.height" convention</li>

			<li>Various bug fixes in data compiler</li>
			<li>Fixed bugs in animation generation routine</li>
			<li>Added option "Use PC" to debug menu</li>
			<li>Input module was replaced</li>
		</ul>
		<h3 id='january62008'>January 6, 2008</h3>

		<ul>
			<li>Fixed bug where Trainer battle intro music lingers in battle</li>
			<li>Move tutor support added</li>
			<li>Improvements in visual editor:<ul>
					<li>Full-color miniature maps</li>
					<li>Canvas can be dragged</li>

					<li>Global metadata is available by double-clicking</li>
				</ul></li>
			<li>More detailed error reporting in data compiler</li>
			<li>Events are stabler while walking in 240x160 mode</li>
			<li>Adopted "Graphics.width/Graphics.height" convention
  in script code, based on RGSS2</li>
			<li>Added "Quick Hatch" and "Trainer types" to debug menu</li>

			<li>Added more features to Pok&eacute;mon debug menus</li>
			<li>Mechanism for defining custom TMs and HMs</li>
		</ul>
		<h3 id='january12008'>January 1, 2008</h3>
		<ul>
			<li>Fixed bug in data compiler for generated trainer
 type data</li>

			<li>Fixed bugs in item storage system</li>
			<li>Added the Town Map as an item</li>
			<li>Incorporated Wichu's changes to PokemonWeather and
 PokemonRegionMap</li>
			<li>Solved problem where changed weather was not applied
 when game is reloaded</li>
			<li>Added item handlers as a way of implementing new items</li>
			<li>Female and male signs were added to Pok&eacute;mon fonts;
 Nidoran species were renamed accordingly</li>

			<li>Nightly music, thanks to Wichu</li>
		</ul>
		<h3 id='december282007'>December 28, 2007</h3>
		<ul>
			<li>Small changes to trade system</li>
			<li>Small change to variable section in debug menu</li>
			<li>Implemented mail and the mailbox</li>

			<li>Added more features to message system</li>
			<li>Changed money loss method to make it less grave;
  money won was set for each Trainer type</li>
			<li>Added a special script-based transition system</li>
			<li>Changed first screen and project title to
  "Pokemon Essentials"</li>
			<li>Small bug fix in rubyscreen.dll</li>
			<li>Pressing <kbd>F8</kbd> will take a screenshot of the game</li>

			<li>Implemented item storage</li>
			<li>Implemented the player's PC</li>
		</ul>
		<h3 id='december242007'>December 24, 2007</h3>
		<ul>
			<li>Changes in Trainer event system for supporting
 move routes.</li>
			<li>Fixed performance bug in evolution animation</li>

			<li>Many edits to server and trade system, 
 released protocol and included server</li>
			<li>Fixed bug when game causes error after storing
 Pok&eacute;mon in daycare</li>
		</ul>
		<h3 id='december192007'>December 19, 2007</h3>
		<ul>
			<li>Restructured the documentation and created
  an HTML Help version.</li>

			<li>Defined "counter events"</li>
			<li>Implemented the Safari Zone</li>
			<li>Implemented the Bug Catching Contest</li>
			<li>Added debug menu option for setting the player's money</li>
			<li>Begun to add comments to scripts within event commands,
  explaining what they do.</li>
		</ul>

		<h3 id='december142007'>December 14, 2007</h3>
		<ul>
			<li>Implemented online trade system with Netplay 2.0</li>
			<li>Support for recording and playing back battles</li>
			<li>More bug fixes in battle system</li>
			<li>Added shift/summary menu to in-battle Pok&eacute;mon list</li>

			<li>Fixed bug where day/night land encounters failed to work
  properly (for real this time, it is hoped)</li>
			<li>Fixed bug where starting a new game can fail 
  during the running of an event</li>
		</ul>
		<h3 id='december92007'>December 9, 2007</h3>
		<ul>
			<li>Made evolution and load screens "skinnable".</li>
			<li>Forced map to update to reflect changes in terrain tag editor</li>

			<li>Added character sprites for some Trainers</li>
			<li>Implemented Battle Tower/Battle Palace</li>
			<li>Various bug fixes in battle system (such as Choice Band)</li>
			<li>Added a game option to change the speech frame</li>
		</ul>
		<h3 id='december32007'>December 3, 2007</h3>

		<ul>
			<li>Implemented the phone function</li>
			<li>Included a simplified way to add Trainer events</li>
			<li>Made sliding on ice a little more realistic</li>
			<li>Made walking in grass a little more realistic</li>
			<li>Combined Interpreter scripts into one section</li>

			<li>Fixed bug in data compiler where day/night land encounters failed to work</li>
			<li>Fixed subtle bug in jumping function</li>
			<li>Implemented AI in double battles</li>
			<li>Changed name entry screen and made that and other
 screens "skinnable"</li>
			<li>Can now convert RPGXP animations to battle animations; 
 implemented a mechanism for custom move animations</li>
		</ul>

		<h3 id='november232007'>November 23, 2007</h3>
		<ul>
			<li>Moved background music code to PokemonUtilities and made
 music event commands work with that code.</li>
			<li>Added more battle sounds</li>
			<li>Made tileset editor more reliable with RPGXP.</li>
			<li>Added Pokeball graphics and catch animations</li>

			<li>Replaced encounter editor with a much more versatile visual
  editor</li>
			<li>New look for Pokegear thanks to OblivionMew</li>
			<li>Fixed bug where wrong base EXP values were used</li>
			<li>Improved path functions in animation editor</li>
		</ul>
		<h3 id='november132007'>November 13, 2007</h3>

		<ul>
			<li>Day/night land encounters</li>
			<li>Moved all custom data files to Data instead of PBS</li>
			<li>Integrated animation editor in the debug menu</li>
			<li>Modified Shadow script to work properly in connected maps</li>
			<li>Added more screen size options</li>

			<li>Changed main procedure to handle hanging programs</li>
			<li>Added face support to the message system.</li>
		</ul>
		<h3 id='november62007'>November 6, 2007</h3>
		<ul>
			<li>Added all Pok&eacute;mon new to the fourth generation</li>

			<li>Outdoor and indoor light sources</li>
			<li>Game data is compiled only when necessary upon test runs, included
 compile function and map warping in debug menu</li>
			<li>Added a duel minigame similar to Alael's on RMXP.ORG (may be used,
 for example, after defeating a Gym Leader but before conferring a Badge)</li>
			<li>Added a way to cancel events designated as cut scenes
 using F5</li>
			<li>Modified Pok&eacute;mon screen to support choosing multiple Pok&eacute;mon</li>

			<li>Removed all unused scripts in the distribution</li>
			<li>Modified intro screen</li>
		</ul>
		<h3 id='october302007'>October 30, 2007</h3>
		<ul>
			<li>Added encounter editor in Debug menu</li>
			<li>Fixed bug where surfing ends unexpectedly between connected maps</li>

			<li>Fixed bug in custom tilemap where a black line can appear between
 connected maps</li>
			<li>Added Ice <a href='#terraintags'>terrain tag</a> (12)</li>
			<li>Added more box graphics and included ability to jump to and rename boxes</li>
			<li>Added more evolution types and included support for custom evolution
  types</li>
			<li>Fixed bug where save file can fail to load in connected maps</li>

			<li>Corrected placement of Pok&eacute;mon sprites in battle</li>
			<li>RegionalNumbers setting in pokedex.txt</li>
		</ul>
		<h3 id='october262007'>October 26, 2007</h3>
		<ul>
			<li>Implemented use of items by enemy Trainers</li>

			<li>Fixed bug where encounters were assigned to the wrong maps when they were connected</li>
			<li>Added predefined colors and multiple choice support to the message system</li>
			<li>Added a Map View option, which includes a new Perspective Tilemap</li>
			<li>Added Switch/Variable settings to Debug menu and made Debug menu accessible with F9</li>
			<li>Added more terrain tags and included location-appropriate battle backgrounds</li>
		</ul>

		<h3 id='october232007'>October 23, 2007</h3>
		<ul>
			<li>Removed dependency on RGSS-RTP</li>
			<li>Added Trainer battle victory music settings in metadata.txt and trainernames.txt</li>
			<li>Implemented hidden items and Itemfinder</li>
			<li>Implemented Synchronize</li>

			<li>Added support for temporary self switches in events, as well as event-specific variables</li>
			<li>Added usage of items in and out of battle to items.txt</li>
			<li>Implemented robust, stand-alone door events</li>
			<li>Implemented events that are active only once a day (for fruit-bearing trees and the like.)</li>
			<li>Changed day/night tinting code to allow "Change Screen Color Tone" to work properly</li>
			<li>Redefined "Change Gold" to act on Trainer's money</li>

			<li>More performance changes in map connections feature</li>
		</ul>
		<h3 id='october202007'>October 20, 2007</h3>
		<ul>
			<li>Implemented abilities that trigger on direct attacks</li>
			<li>Added custom music function to Pokegear radio</li>
			<li>Fixed bug where item GUARDSPEC wasn't defined</li>

			<li>Fixed bug where Repel step count wasn't decreasing</li>
			<li>Fixed bug where Flash darkness sprite disappeared after Pokegear was closed</li>
			<li>Fixed bug where Trainer music failed to be set</li>
			<li>Added support for a new format for windowskins</li>
			<li>Improved performance of custom Tilemap class even more</li>
			<li>Some performance changes in map connections feature</li>

			<li>Using predefined Tilemap instead of custom Tilemap in 480x320 screen size</li>
		</ul>
		<h3 id='october142007'>October 14, 2007</h3>
		<ul>
			<li>Added rudimentary support for battle animations</li>
			<li>All documentation for Pok&eacute;mon Essentials is in one place, the notes.html file</li>

			<li>Added Running Shoes flag; now running is allowed only when the player has Running Shoes; use the script $PokemonGlobal.runningShoes=true</li>
			<li>Added the Battle Scene option to the option screen.</li>
			<li>Added cries for each Pokemon.</li>
			<li>Implemented the Pokerus virus.</li>
			<li>Made statuses display in battle and in the summary screen.</li>
		</ul>

		<h3 id='october62007'>October 6, 2007</h3>
		<ul>
			<li>Stabler Tilemap class -- Tile displacement problem was eliminated</li>
			<li>Trainer battles can be skipped in playtests by holding CTRL</li>
			<li>Internationalization support -- Texts can be extracted and compiled for localization</li>
			<li>Battle start transition included</li>

			<li>Finer day/night tinting</li>
			<li>WildBattleBGM and TrainerBattleBGM metadata classes</li>
			<li>Move speed problem fixed</li>
			<li>Title background music is set to that in the System tab of the database</li>
			<li>The Bag is no longer filled automatically in playtesting; instead use the "Fill Bag" option in the Debug menu.</li>
		</ul>

		<h3 id='october22007'>October 2, 2007</h3>
		<ul>
			<li>Implemented the hidden moves Waterfall, Dive, and Flash</li>
			<li>Improved performance of redefined Tilemap class</li>
			<li>Removed 386-species limit; now any number of species is possible</li>
			<li>For demonstration, the Pok&eacute;mon Spiritomb is included</li>

			<li>Included metadata setting for running, surfing, and diving sprites</li>
		</ul>
		<h3 id='september282007'>September 28, 2007</h3>
		<ul>
			<li>Support for the hidden moves Fly and Headbutt</li>
			<li>Flameguru's Pokegear script included</li>
			<li>Customizable region maps</li>

			<li>Script support for double battles and multi battles</li>
			<li>Debug menu option with integrated terrain tag editor</li>
			<li>Problems fixed with Rare Candy</li>
			<li>Problem fixed on player placement after jumping</li>
			<li>StorageCreator metadata setting added</li>
			<li>MapPosition metadata setting added</li>

			<li>Combined PokeBattle_Move_XX scripts into PokeBattle_MoveEffects</li>
		</ul>
		<h3 id='september152007'>September 15, 2007</h3>
		<p>A Pokedex screen, a Pok&eacute; Mart screen, evolution support, a finished summary screen, as well as the Name Rater and Move Deleter. Also a method to add custom items to the game.</p>
		<h3 id='september72007'>September 7, 2007</h3>
		<p>First release</p>

<h2>Notice</h2>
<p>Pok&eacute;mon Essentials is a noncommercial project not associated with Nintendo or the makers of the Pok&eacute;mon video game. Pok&eacute;mon and Wii are registered trademarks of Nintendo. The names of each Pok&eacute;mon character are trademarks of Nintendo. Microsoft and Access are registered trademarks of Microsoft Corporation. RPG Maker&#x2122; is a trademark of Enterbrain, Inc. Bluetooth is a registered certification mark of Bluetooth SIG, Inc.  Hamachi is a registered trademark of LogMeIn, Inc. Other marks are the property of their respective owners.</p>
	</body>
</html>






<!--
     FILE ARCHIVED ON 17:27:35 Mar 2, 2012 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 1:10:52 Apr 9, 2015.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
